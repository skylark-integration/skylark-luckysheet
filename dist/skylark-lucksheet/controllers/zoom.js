/**
 * skylark-lucksheet - A version of lucksheet.js that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["../store","../locale/locale","../utils/util"],function(o,t,e){"use strict";const{replaceHtml:u}=e;function n(o){let t=1;return o<50?t=Math.round(100*(1.8*o/100+.1))/100:o>50&&(t=Math.round(100*(6*(o-50)/100+1))/100),t}function c(o){let t=Math.round(100*o)+"%";$("#luckysheet-zoom-ratioText").html(t),function(o){let t=50;o<1?t=Math.round(100*(o-.1)/.18)/10:o>1&&(t=Math.round(100*(o-1)/.6)/10+50),$("#luckysheet-zoom-cursor").css("left",t-4)}(o)}return{zoomInitial:function(){$("#luckysheet-zoom-minus").click(function(){let t;t=null==o.zoomRatio?o.zoomRatio=1:Math.ceil(10*o.zoomRatio)/10,(t-=.1)==o.zoomRatio&&(t-=.1),t<=.1&&(t=.1),o.changeZoom(t),c(t)}),$("#luckysheet-zoom-plus").click(function(){let t;t=null==o.zoomRatio?o.zoomRatio=1:Math.floor(10*o.zoomRatio)/10,(t+=.1)==o.zoomRatio&&(t+=.1),t>=4&&(t=4),zoomChange(t),c(t)}),$("#luckysheet-zoom-slider").mousedown(function(t){let e=$(this).offset().left,u=n(t.pageX-e);o.changeZoom(u),c(u)}),$("#luckysheet-zoom-cursor").mousedown(function(t){let e=t.pageX,u=parseFloat($("#luckysheet-zoom-cursor").css("left"));$("#luckysheet-zoom-cursor").css("transition","none"),$(document).off("mousemove.zoomCursor").on("mousemove.zoomCursor",function(t){let c=t.pageX,s=u+(c-e),l=n(s);l>4&&(l=4,s=100),l<.1&&(l=.1,s=0),o.changeZoom(l);let m=Math.round(100*l)+"%";$("#luckysheet-zoom-ratioText").html(m),$("#luckysheet-zoom-cursor").css("left",s-4)}),$(document).off("mouseup.zoomCursor").on("mouseup.zoomCursor",function(o){$(document).off(".zoomCursor"),$("#luckysheet-zoom-cursor").css("transition","all 0.3s")}),t.stopPropagation()}).click(function(o){o.stopPropagation()}),$("#luckysheet-zoom-ratioText").click(function(){o.changeZoom(1),c(1)}),c(o.zoomRatio)},zoomNumberDomBind:c}});
//# sourceMappingURL=../sourcemaps/controllers/zoom.js.map
