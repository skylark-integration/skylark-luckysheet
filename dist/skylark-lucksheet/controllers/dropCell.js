/**
 * skylark-lucksheet - A version of lucksheet.js that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["../global/location","../global/count","../global/border","../global/validate","../global/format","../global/refresh","../global/editor","../global/formula","./conditionformat","./protection","./select","../methods/get","../utils/util","../store","../locale/locale","skylark-moment"],function(e,t,l,n,i,s,a,d,o,u,r,h,c,f,m,p){"use strict";const{rowLocationByIndex:y,colLocationByIndex:g}=e,{countfunc:v}=t,{getBorderInfoCompute:x}=l,{isRealNum:k}=n,{genarate:b,update:C}=i,{jfrefreshgrid:D}=s,{checkProtectionLockedRangeList:Y}=u,{selectHightlightShow:w}=r,{getSheetIndex:M}=h,{getObjType:F,replaceHtml:N}=c;return{iconHtml:'<div id="luckysheet-dropCell-icon" style="position: absolute;padding: 2px;background-color: #f1f1f1;z-index: 990;cursor: pointer;"><div id="icon_dropCell"></div></div>',typeListHtml:'<div id="luckysheet-dropCell-typeList" class="luckysheet-cols-menu luckysheet-rightgclick-menu luckysheet-mousedown-cancel"><div class="luckysheet-cols-menuitem luckysheet-mousedown-cancel" data-type="0"><div class="luckysheet-cols-menuitem-content luckysheet-mousedown-cancel" style="padding: 3px 2px;"><span style="margin-right:5px;width:13px;display:inline-block;" class="icon luckysheet-mousedown-cancel"></span>${copyCell}</div></div><div class="luckysheet-cols-menuitem luckysheet-mousedown-cancel" data-type="1"><div class="luckysheet-cols-menuitem-content luckysheet-mousedown-cancel" style="padding: 3px 2px;"><span style="margin-right:5px;width:13px;display:inline-block;" class="icon luckysheet-mousedown-cancel"></span>${sequence}</div></div><div class="luckysheet-cols-menuitem luckysheet-mousedown-cancel" data-type="2"><div class="luckysheet-cols-menuitem-content luckysheet-mousedown-cancel" style="padding: 3px 2px;"><span style="margin-right:5px;width:13px;display:inline-block;" class="icon luckysheet-mousedown-cancel"></span>${onlyFormat}</div></div><div class="luckysheet-cols-menuitem luckysheet-mousedown-cancel" data-type="3"><div class="luckysheet-cols-menuitem-content luckysheet-mousedown-cancel" style="padding: 3px 2px;"><span style="margin-right:5px;width:13px;display:inline-block;" class="icon luckysheet-mousedown-cancel"></span>${noFormat}</div></div><div class="luckysheet-cols-menuitem luckysheet-mousedown-cancel" data-type="4"><div class="luckysheet-cols-menuitem-content luckysheet-mousedown-cancel" style="padding: 3px 2px;"><span style="margin-right:5px;width:13px;display:inline-block;" class="icon luckysheet-mousedown-cancel"></span>${day}</div></div><div class="luckysheet-cols-menuitem luckysheet-mousedown-cancel" data-type="5"><div class="luckysheet-cols-menuitem-content luckysheet-mousedown-cancel" style="padding: 3px 2px;"><span style="margin-right:5px;width:13px;display:inline-block;" class="icon luckysheet-mousedown-cancel"></span>${workDay}</div></div><div class="luckysheet-cols-menuitem luckysheet-mousedown-cancel" data-type="6"><div class="luckysheet-cols-menuitem-content luckysheet-mousedown-cancel" style="padding: 3px 2px;"><span style="margin-right:5px;width:13px;display:inline-block;" class="icon luckysheet-mousedown-cancel"></span>${month}</div></div><div class="luckysheet-cols-menuitem luckysheet-mousedown-cancel" data-type="7"><div class="luckysheet-cols-menuitem-content luckysheet-mousedown-cancel" style="padding: 3px 2px;"><span style="margin-right:5px;width:13px;display:inline-block;" class="icon luckysheet-mousedown-cancel"></span>${year}</div></div><div class="luckysheet-cols-menuitem luckysheet-mousedown-cancel" data-type="8"><div class="luckysheet-cols-menuitem-content luckysheet-mousedown-cancel" style="padding: 3px 2px;"><span style="margin-right:5px;width:13px;display:inline-block;" class="icon luckysheet-mousedown-cancel"></span>${chineseNumber}</div></div></div>',copyRange:{},applyRange:{},applyType:null,direction:null,chnNumChar:{"零":0,"一":1,"二":2,"三":3,"四":4,"五":5,"六":6,"七":7,"八":8,"九":9},chnNameValue:{"十":{value:10,secUnit:!1},"百":{value:100,secUnit:!1},"千":{value:1e3,secUnit:!1},"万":{value:1e4,secUnit:!0},"亿":{value:1e8,secUnit:!0}},ChineseToNumber:function(e){let t=this,l=0,n=0,i=0,s=!1,a=e.split("");for(let e=0;e<a.length;e++){let d=t.chnNumChar[a[e]];if(void 0!==d)i=d,e==a.length-1&&(n+=i);else{let d=t.chnNameValue[a[e]].value;(s=t.chnNameValue[a[e]].secUnit)?(l+=n=(n+i)*d,n=0):n+=i*d,i=0}}return l+n},chnNumChar2:["零","一","二","三","四","五","六","七","八","九"],chnUnitSection:["","万","亿","万亿","亿亿"],chnUnitChar:["","十","百","千"],SectionToChinese:function(e){let t=this,l="",n="",i=0,s=!0;for(;e>0;){let a=e%10;0==a?s||(s=!0,n=t.chnNumChar2[a]+n):(s=!1,l=t.chnNumChar2[a],n=(l+=t.chnUnitChar[i])+n),i++,e=Math.floor(e/10)}return n},NumberToChinese:function(e){let t=this,l=0,n="",i="",s=!1;if(0==e)return t.chnNumChar2[0];for(;e>0;){let a=e%1e4;s&&(i=t.chnNumChar2[0]+i),n=t.SectionToChinese(a),i=(n+=0!=a?t.chnUnitSection[l]:t.chnUnitSection[0])+i,s=a<1e3&&a>0,e=Math.floor(e/1e4),l++}return i},isChnNumber:function(e){let t=this,l=!0;if(1==e.length)l="日"==e||e in t.chnNumChar;else{let n=e.split("");for(let e=0;e<n.length;e++)if(!(n[e]in t.chnNumChar||n[e]in t.chnNameValue)){l=!1;break}}return l},isExtendNumber:function(e){let t=/0|([1-9]+[0-9]*)/g,l=t.test(e);if(l){let n=e.match(t),i=n[n.length-1],s=e.lastIndexOf(i),a=e.substr(0,s),d=e.substr(s+i.length);return[l,Number(i),a,d]}return[l]},isChnWeek1:function(e){let t,l=this;return t=1==e.length&&("日"==e||l.ChineseToNumber(e)<7)},isChnWeek2:function(e){let t;return t=2==e.length&&("周一"==e||"周二"==e||"周三"==e||"周四"==e||"周五"==e||"周六"==e||"周日"==e)},isChnWeek3:function(e){let t;return t=3==e.length&&("星期一"==e||"星期二"==e||"星期三"==e||"星期四"==e||"星期五"==e||"星期六"==e||"星期日"==e)},createIcon:function(){let e,t,l=this,n=l.copyRange.row[1],i=l.copyRange.column[1],s=l.applyRange.row[1],a=l.applyRange.column[1];s>=n&&a>=i?(e=s,t=a):(e=n,t=i);let d=y(e)[1],o=(y(e)[0],g(t)[1]);g(t)[0];$("#luckysheet-dropCell-icon").remove(),$("#luckysheet-cell-main").append(l.iconHtml),$("#luckysheet-dropCell-icon").css({left:o,top:d}),$("#luckysheet-dropCell-icon").mouseover(function(){$(this).css("background-color","#ffe8e8")}).mouseleave(function(){$(this).css("background-color","#f1f1f1")}).mousedown(function(e){$("#luckysheet-dropCell-typeList").remove();const t=m().dropCell;$("body").append(N(l.typeListHtml,{copyCell:t.copyCell,sequence:t.sequence,onlyFormat:t.onlyFormat,noFormat:t.noFormat,day:t.day,workDay:t.workDay,month:t.month,year:t.year,chineseNumber:t.chineseNumber}));let n=l.typeItemHide();n[0]||n[1]||n[2]||n[3]||n[4]||n[5]||n[6]||($("#luckysheet-dropCell-typeList .luckysheet-cols-menuitem[data-type=1]").hide(),$("#luckysheet-dropCell-typeList .luckysheet-cols-menuitem[data-type=4]").hide(),$("#luckysheet-dropCell-typeList .luckysheet-cols-menuitem[data-type=5]").hide(),$("#luckysheet-dropCell-typeList .luckysheet-cols-menuitem[data-type=6]").hide(),$("#luckysheet-dropCell-typeList .luckysheet-cols-menuitem[data-type=7]").hide(),$("#luckysheet-dropCell-typeList .luckysheet-cols-menuitem[data-type=8]").hide()),n[2]||($("#luckysheet-dropCell-typeList .luckysheet-cols-menuitem[data-type=4]").hide(),$("#luckysheet-dropCell-typeList .luckysheet-cols-menuitem[data-type=5]").hide(),$("#luckysheet-dropCell-typeList .luckysheet-cols-menuitem[data-type=6]").hide(),$("#luckysheet-dropCell-typeList .luckysheet-cols-menuitem[data-type=7]").hide()),n[3]||$("#luckysheet-dropCell-typeList .luckysheet-cols-menuitem[data-type=8]").hide();let i=$(this).offset().left,s=$(this).offset().top+25,a=$(window).height(),d=$(window).width(),o=$("#luckysheet-dropCell-typeList").width(),u=$("#luckysheet-dropCell-typeList").height();i+o>d&&(i-=o),s+u>a&&(s=s-u-38),s<0&&(s=0),$("#luckysheet-dropCell-typeList").css({left:i,top:s}).show(),$("#luckysheet-dropCell-icon").mouseleave(function(){$(this).css("backgroundColor","#ffe8e8")});let r=l.applyType;$("#luckysheet-dropCell-typeList .luckysheet-cols-menuitem[data-type="+r+"]").find("span").append('<i class="fa fa-check luckysheet-mousedown-cancel"></i>'),e.stopPropagation()}),$(document).off("click.dCtypeList").on("click.dCtypeList","#luckysheet-dropCell-typeList .luckysheet-cols-menuitem",function(){$("#luckysheet-dropCell-typeList .fa-check").remove(),$(this).find("span").append('<i class="fa fa-check luckysheet-mousedown-cancel"></i>');let e=$(this).attr("data-type");l.applyType=e,l.update(),$("#luckysheet-dropCell-typeList").hide(),$("#luckysheet-dropCell-icon").css("backgroundColor","#f1f1f1"),$("#luckysheet-dropCell-icon").mouseleave(function(){$(this).css("backgroundColor","#f1f1f1")}),v()})},typeItemHide:function(){let e=this,t=e.copyRange,l=t.row[0],n=t.row[1],i=t.column[0],s=t.column[1],a=!1,d=!1,o=!1,u=!1,r=!1,h=!1,c=!1;for(let t=l;t<=n;t++)for(let l=i;l<=s;l++)if(f.flowdata[t][l]){let n=f.flowdata[t][l];"object"==F(n)&&null!=n.v&&null==n.f&&(null!=n.ct&&"n"==n.ct.t?a=!0:null!=n.ct&&"d"==n.ct.t?o=!0:e.isExtendNumber(n.m)[0]?d=!0:e.isChnNumber(n.m)&&"日"!=n.m?u=!0:"日"==n.m?r=!0:e.isChnWeek2(n.m)?h=!0:e.isChnWeek3(n.m)&&(c=!0))}return[a,d,o,u,r,h,c]},update:function(){let e=this;if(!Y([e.applyRange],f.currentSheetIndex))return;if(!1===f.allowEdit)return;let t,l=a.deepCopyFlowData(f.flowdata),n=f.luckysheetfile[M(f.currentSheetIndex)],i=$.extend(!0,{},f.config),s=x(),u=$.extend(!0,{},n.dataVerification),r=e.direction,h=(e.applyType,e.copyRange),c=h.row[0],m=h.row[1],p=h.column[0],y=h.column[1],g=e.getCopyData(l,c,m,p,y,r);"down"==r||"up"==r?t=m-c+1:"right"!=r&&"left"!=r||(t=y-p+1);let v=e.applyRange,C=v.row[0],F=v.row[1],N=v.column[0],_=v.column[1];if("down"==r||"up"==r){let n=F-C+1;for(let a=N;a<=_;a++){let o=g[a-N],h=e.getApplyData(o,t,n);if("down"==r)for(let e=C;e<=F;e++){let n=h[e-C];if(null!=n.f){let t="="+d.functionCopy(n.f,"down",e-C+1),i=d.execfunction(t,e,a);if(d.execFunctionGroup(e,a,i[1],void 0,l),n.f=i[2],n.v=i[1],null!=n.spl)n.spl=i[3].data;else if(k(n.v)&&!/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[12])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(n.v)){if(n.v==1/0||n.v==-1/0)n.m=n.v.toString();else if(n.v.toString().indexOf("e")>-1){let e=n.v.toString().split(".")[1].split("e")[0].length;e>5&&(e=5),n.m=n.v.toExponential(e).toString()}else{let e=b(Math.round(1e9*n.v)/1e9);n.m=e[0].toString()}n.ct={fa:"General",t:"n"}}else{let e=b(n.v);n.m=e[0].toString(),n.ct=e[1]}}l[e][a]=n;let o=c+(e-C)%t,r=a;if(s[o+"_"+r]){let t={rangeType:"cell",value:{row_index:e,col_index:a,l:s[o+"_"+r].l,r:s[o+"_"+r].r,t:s[o+"_"+r].t,b:s[o+"_"+r].b}};i.borderInfo.push(t)}else if(s[e+"_"+a]){let t={rangeType:"cell",value:{row_index:e,col_index:a,l:null,r:null,t:null,b:null}};i.borderInfo.push(t)}u[o+"_"+r]&&(u[e+"_"+a]=u[o+"_"+r])}if("up"==r)for(let e=F;e>=C;e--){let n=h[F-e];if(null!=n.f){let t="="+d.functionCopy(n.f,"up",F-e+1),i=d.execfunction(t,e,a);if(d.execFunctionGroup(e,a,i[1],void 0,l),n.f=i[2],n.v=i[1],null!=n.spl)n.spl=i[3].data;else if(k(n.v)&&!/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[12])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(n.v)){if(n.v==1/0||n.v==-1/0)n.m=n.v.toString();else if(n.v.toString().indexOf("e")>-1){let e=n.v.toString().split(".")[1].split("e")[0].length;e>5&&(e=5),n.m=n.v.toExponential(e).toString()}else{let e=b(Math.round(1e9*n.v)/1e9);n.m=e[0].toString()}n.ct={fa:"General",t:"n"}}else{let e=b(n.v);n.m=e[0].toString(),n.ct=e[1]}}l[e][a]=n;let o=m-(F-e)%t,r=a;if(s[o+"_"+r]){let t={rangeType:"cell",value:{row_index:e,col_index:a,l:s[o+"_"+r].l,r:s[o+"_"+r].r,t:s[o+"_"+r].t,b:s[o+"_"+r].b}};i.borderInfo.push(t)}else if(s[e+"_"+a]){let t={rangeType:"cell",value:{row_index:e,col_index:a,l:null,r:null,t:null,b:null}};i.borderInfo.push(t)}u[o+"_"+r]&&(u[e+"_"+a]=u[o+"_"+r])}}}else if("right"==r||"left"==r){let n=_-N+1;for(let a=C;a<=F;a++){let o=g[a-C],h=e.getApplyData(o,t,n);if("right"==r)for(let e=N;e<=_;e++){let n=h[e-N];if(null!=n.f){let t="="+d.functionCopy(n.f,"right",e-N+1),i=d.execfunction(t,a,e);if(d.execFunctionGroup(e,a,i[1],void 0,l),n.f=i[2],n.v=i[1],null!=n.spl)n.spl=i[3].data;else if(k(n.v)&&!/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[12])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(n.v)){if(n.v==1/0||n.v==-1/0)n.m=n.v.toString();else if(n.v.toString().indexOf("e")>-1){let e=n.v.toString().split(".")[1].split("e")[0].length;e>5&&(e=5),n.m=n.v.toExponential(e).toString()}else{let e=b(Math.round(1e9*n.v)/1e9);n.m=e[0].toString()}n.ct={fa:"General",t:"n"}}else{let e=b(n.v);n.m=e[0].toString(),n.ct=e[1]}}l[a][e]=n;let o=a,r=p+(e-N)%t;if(s[o+"_"+r]){let t={rangeType:"cell",value:{row_index:a,col_index:e,l:s[o+"_"+r].l,r:s[o+"_"+r].r,t:s[o+"_"+r].t,b:s[o+"_"+r].b}};i.borderInfo.push(t)}else if(s[a+"_"+e]){let t={rangeType:"cell",value:{row_index:a,col_index:e,l:null,r:null,t:null,b:null}};i.borderInfo.push(t)}u[o+"_"+r]&&(u[a+"_"+e]=u[o+"_"+r])}if("left"==r)for(let e=_;e>=N;e--){let n=h[_-e];if(null!=n.f){let t="="+d.functionCopy(n.f,"left",_-e+1),i=d.execfunction(t,a,e);if(d.execFunctionGroup(e,a,i[1],void 0,l),n.f=i[2],n.v=i[1],null!=n.spl)n.spl=i[3].data;else if(k(n.v)&&!/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[12])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(n.v)){if(n.v==1/0||n.v==-1/0)n.m=n.v.toString();else if(n.v.toString().indexOf("e")>-1){let e=n.v.toString().split(".")[1].split("e")[0].length;e>5&&(e=5),n.m=n.v.toExponential(e).toString()}else{let e=b(Math.round(1e9*n.v)/1e9);n.m=e[0].toString()}n.ct={fa:"General",t:"n"}}else{let e=b(n.v);n.m=e[0].toString(),n.ct=e[1]}}l[a][e]=n;let o=a,r=y-(_-e)%t;if(s[o+"_"+r]){let t={rangeType:"cell",value:{row_index:a,col_index:e,l:s[o+"_"+r].l,r:s[o+"_"+r].r,t:s[o+"_"+r].t,b:s[o+"_"+r].b}};i.borderInfo.push(t)}else if(s[a+"_"+e]){let t={rangeType:"cell",value:{row_index:a,col_index:e,l:null,r:null,t:null,b:null}};i.borderInfo.push(t)}u[o+"_"+r]&&(u[a+"_"+e]=u[o+"_"+r])}}}let T=$.extend(!0,[],n.luckysheet_conditionformat_save);if(null!=T&&T.length>0)for(let e=0;e<T.length;e++){let t=T[e].cellrange,l=[];for(let e=0;e<t.length;e++){let n=o.CFSplitRange(t[e],{row:h.row,column:h.column},{row:v.row,column:v.column},"operatePart");n.length>0&&(l=l.concat(n))}l.length>0&&T[e].cellrange.push(v)}let S={cfg:i,cdformat:T,dataVerification:u};D(l,f.luckysheet_select_save,S),w()},getCopyData:function(e,t,l,n,i,s){let a,d,o,u,r=this,h=[];"down"==s||"up"==s?(a=n,d=i,o=t,u=l):"right"!=s&&"left"!=s||(a=t,d=l,o=n,u=i);for(let t=a;t<=d;t++){let l={},n=[],i=[],a="",d=null,c=null,f=!0;for(let h=o;h<=u;h++){let m,p;if("down"==s||"up"==s?m=e[h][t]:"right"!=s&&"left"!=s||(m=e[t][h]),m&&m.v&&null==m.f)if(m.ct&&"n"==m.ct.t)p="number",d=null,c=null;else if(m.ct&&"d"==m.ct.t)p="date",d=null,c=null;else if(r.isExtendNumber(m.m)[0]){p="extendNumber";let e=r.isExtendNumber(m.m);null==d||null==c?(f=!0,d=e[2],c=e[3]):e[2]!=d||e[3]!=c?(f=!1,d=e[2],c=e[3]):f=!0}else r.isChnNumber(m.m)?(p="chnNumber",d=null,c=null):r.isChnWeek2(m.m)?(p="chnWeek2",d=null,c=null):r.isChnWeek3(m.m)?(p="chnWeek3",d=null,c=null):(p="other",d=null,c=null);else p="other",d=null,c=null;"extendNumber"==p?h==o?o==u?(a=p,n.push(m),i.push(h-o+1),l[a]=[],l[a].push({data:n,index:i})):(a=p,n.push(m),i.push(h-o+1)):h==u?a==p&&f?(n.push(m),i.push(h-o+1),a in l?l[a].push({data:n,index:i}):(l[a]=[],l[a].push({data:n,index:i}))):(a in l?l[a].push({data:n,index:i}):(l[a]=[],l[a].push({data:n,index:i})),a=p,(n=[]).push(m),(i=[]).push(h-o+1),a in l?l[a].push({data:n,index:i}):(l[a]=[],l[a].push({data:n,index:i}))):a==p&&f?(n.push(m),i.push(h-o+1)):(a in l?l[a].push({data:n,index:i}):(l[a]=[],l[a].push({data:n,index:i})),a=p,(n=[]).push(m),(i=[]).push(h-o+1)):h==o?o==u?(a=p,n.push(m),i.push(h-o+1),l[a]=[],l[a].push({data:n,index:i})):(a=p,n.push(m),i.push(h-o+1)):h==u?a==p?(n.push(m),i.push(h-o+1),a in l?l[a].push({data:n,index:i}):(l[a]=[],l[a].push({data:n,index:i}))):(a in l?l[a].push({data:n,index:i}):(l[a]=[],l[a].push({data:n,index:i})),a=p,(n=[]).push(m),(i=[]).push(h-o+1),a in l?l[a].push({data:n,index:i}):(l[a]=[],l[a].push({data:n,index:i}))):a==p?(n.push(m),i.push(h-o+1)):(a in l?l[a].push({data:n,index:i}):(l[a]=[],l[a].push({data:n,index:i})),a=p,(n=[]).push(m),(i=[]).push(h-o+1))}h.push(l)}return h},getApplyData:function(e,t,l){let n=this,i=[],s=n.direction,a=n.applyType,d=Math.floor(l/t),o=l%t,u=e.number,r=[];if(u)for(let e=0;e<u.length;e++){let i,h=n.getLenS(u[e].index,o),c=u[e].index.length*d+h;i="1"==a||"3"==a?n.getDataByType(u[e].data,c,s,a,"number"):"2"==a?n.getDataByType(u[e].data,c,s,a):n.getDataByType(u[e].data,c,s,"0");let f=n.getDataIndex(t,l,u[e].index);r.push({data:i,index:f})}let h=e.extendNumber,c=[];if(h)for(let e=0;e<h.length;e++){let i,u=n.getLenS(h[e].index,o),r=h[e].index.length*d+u;i="1"==a||"3"==a?n.getDataByType(h[e].data,r,s,a,"extendNumber"):"2"==a?n.getDataByType(h[e].data,r,s,a):n.getDataByType(h[e].data,r,s,"0");let f=n.getDataIndex(t,l,h[e].index);c.push({data:i,index:f})}let f=e.date,m=[];if(f)for(let e=0;e<f.length;e++){let i,u=n.getLenS(f[e].index,o),r=f[e].index.length*d+u;i="1"==a||"3"==a?n.getDataByType(f[e].data,r,s,a,"date"):"8"==a?n.getDataByType(f[e].data,r,s,"0"):n.getDataByType(f[e].data,r,s,a);let h=n.getDataIndex(t,l,f[e].index);m.push({data:i,index:h})}let p=e.chnNumber,y=[];if(p)for(let e=0;e<p.length;e++){let i,u=n.getLenS(p[e].index,o),r=p[e].index.length*d+u;i="1"==a||"3"==a?n.getDataByType(p[e].data,r,s,a,"chnNumber"):"2"==a||"8"==a?n.getDataByType(p[e].data,r,s,a):n.getDataByType(p[e].data,r,s,"0");let h=n.getDataIndex(t,l,p[e].index);y.push({data:i,index:h})}let g=e.chnWeek2,v=[];if(g)for(let e=0;e<g.length;e++){let i,u=n.getLenS(g[e].index,o),r=g[e].index.length*d+u;i="1"==a||"3"==a?n.getDataByType(g[e].data,r,s,a,"chnWeek2"):"2"==a?n.getDataByType(g[e].data,r,s,a):n.getDataByType(g[e].data,r,s,"0");let h=n.getDataIndex(t,l,g[e].index);v.push({data:i,index:h})}let x=e.chnWeek3,k=[];if(x)for(let e=0;e<x.length;e++){let i,u=n.getLenS(x[e].index,o),r=x[e].index.length*d+u;i="1"==a||"3"==a?n.getDataByType(x[e].data,r,s,a,"chnWeek3"):"2"==a?n.getDataByType(x[e].data,r,s,a):n.getDataByType(x[e].data,r,s,"0");let h=n.getDataIndex(t,l,x[e].index);k.push({data:i,index:h})}let b=e.other,C=[];if(b)for(let e=0;e<b.length;e++){let i,u=n.getLenS(b[e].index,o),r=b[e].index.length*d+u;i="2"==a||"3"==a?n.getDataByType(b[e].data,r,s,a):n.getDataByType(b[e].data,r,s,"0");let h=n.getDataIndex(t,l,b[e].index);C.push({data:i,index:h})}for(let e=1;e<=l;e++){if(r.length>0)for(let t=0;t<r.length;t++)e in r[t].index&&i.push(r[t].data[r[t].index[e]]);if(c.length>0)for(let t=0;t<c.length;t++)e in c[t].index&&i.push(c[t].data[c[t].index[e]]);if(m.length>0)for(let t=0;t<m.length;t++)e in m[t].index&&i.push(m[t].data[m[t].index[e]]);if(y.length>0)for(let t=0;t<y.length;t++)e in y[t].index&&i.push(y[t].data[y[t].index[e]]);if(v.length>0)for(let t=0;t<v.length;t++)e in v[t].index&&i.push(v[t].data[v[t].index[e]]);if(k.length>0)for(let t=0;t<k.length;t++)e in k[t].index&&i.push(k[t].data[k[t].index[e]]);if(C.length>0)for(let t=0;t<C.length;t++)e in C[t].index&&i.push(C[t].data[C[t].index[e]])}return i},getLenS:function(e,t){let l=0;for(let n=0;n<e.length&&e[n]<=t;n++)l++;return l},getDataIndex:function(e,t,l){let n={},i=Math.floor(t/e),s=t%e,a=0;if(i>0){for(let t=1;t<=i;t++)for(let i=0;i<l.length;i++)n[l[i]+(t-1)*e]=a,a++;for(let t=0;t<l.length&&l[t]<=s;t++)n[l[t]+e*i]=a,a++}else for(let e=0;e<l.length&&l[e]<=s;e++)n[l[e]]=a,a++;return n},getDataByType:function(e,t,l,n,i){let s=this,a=[];if("0"==n)"up"!=l&&"left"!=l||e.reverse(),a=s.FillCopy(e,t);else if("1"==n)if("number"==i)a=s.FillSeries(e,t,l);else if("extendNumber"==i)if(1==e.length){let n;"down"==l||"right"==l?n=1:"up"!=l&&"left"!=l||(n=-1),a=s.FillExtendNumber(e,t,n)}else{let n=[];for(let t=0;t<e.length;t++){let l=e[t].m;n.push(Number(s.isExtendNumber(l)[1]))}if("up"!=l&&"left"!=l||(e.reverse(),n.reverse()),s.isEqualDiff(n)){let l=n[1]-n[0];a=s.FillExtendNumber(e,t,l)}else a=s.FillCopy(e,t)}else if("date"==i)if(1==e.length){let n;"down"==l||"right"==l?n=1:"up"!=l&&"left"!=l||(n=-1),a=s.FillDays(e,t,n)}else{"up"!=l&&"left"!=l||e.reverse();let n=s.judgeDate(e);if(n[0]&&n[3]){let l=p(e[1].m).diff(p(e[0].m),"months");a=s.FillMonths(e,t,l)}else if(!n[0]&&n[2]){let l=p(e[1].m).diff(p(e[0].m),"days");a=s.FillDays(e,t,l)}else a=s.FillCopy(e,t)}else if("chnNumber"==i)if(1==e.length)if("日"==e[0].m||s.ChineseToNumber(e[0].m)<7){let n;"down"==l||"right"==l?n=1:"up"!=l&&"left"!=l||(n=-1),a=s.FillChnWeek(e,t,n)}else{let n;"down"==l||"right"==l?n=1:"up"!=l&&"left"!=l||(n=-1),a=s.FillChnNumber(e,t,n)}else{let n=!1;for(let t=0;t<e.length;t++)if("日"==e[t].m){n=!0;break}let i=[],d=0;for(let t=0;t<e.length;t++)"日"==e[t].m?0==t?i.push(0):(d++,i.push(7*d)):n&&s.ChineseToNumber(e[t].m)>0&&s.ChineseToNumber(e[t].m)<7?i.push(s.ChineseToNumber(e[t].m)+7*d):i.push(s.ChineseToNumber(e[t].m));if("up"!=l&&"left"!=l||(e.reverse(),i.reverse()),s.isEqualDiff(i))if(n||i[i.length-1]<6&&i[0]>0||i[0]<6&&i[i.length-1]>0){let l=i[1]-i[0];a=s.FillChnWeek(e,t,l)}else{let l=i[1]-i[0];a=s.FillChnNumber(e,t,l)}else a=s.FillCopy(e,t)}else if("chnWeek2"==i)if(1==e.length){let n;"down"==l||"right"==l?n=1:"up"!=l&&"left"!=l||(n=-1),a=s.FillChnWeek2(e,t,n)}else{let n=[],i=0;for(let t=0;t<e.length;t++){let l=e[t].m.substr(e[t].m.length-1,1);"周日"==e[t].m?0==t?n.push(0):(i++,n.push(7*i)):n.push(s.ChineseToNumber(l)+7*i)}if("up"!=l&&"left"!=l||(e.reverse(),n.reverse()),s.isEqualDiff(n)){let l=n[1]-n[0];a=s.FillChnWeek2(e,t,l)}else a=s.FillCopy(e,t)}else if("chnWeek3"==i)if(1==e.length){let n;"down"==l||"right"==l?n=1:"up"!=l&&"left"!=l||(n=-1),a=s.FillChnWeek3(e,t,n)}else{let n=[],i=0;for(let t=0;t<e.length;t++){let l=e[t].m.substr(e[t].m.length-1,1);"星期日"==e[t].m?0==t?n.push(0):(i++,n.push(7*i)):n.push(s.ChineseToNumber(l)+7*i)}if("up"!=l&&"left"!=l||(e.reverse(),n.reverse()),s.isEqualDiff(n)){let l=n[1]-n[0];a=s.FillChnWeek3(e,t,l)}else a=s.FillCopy(e,t)}else"up"!=l&&"left"!=l||e.reverse(),a=s.FillCopy(e,t);else if("2"==n)"up"!=l&&"left"!=l||e.reverse(),a=s.FillOnlyFormat(e,t);else if("3"==n){let n=s.getDataByType(e,t,l,"1",i);a=s.FillWithoutFormat(n)}else if("4"==n)if(1==e.length){let n;"down"==l||"right"==l?n=1:"up"!=l&&"left"!=l||(n=-1),a=s.FillDays(e,t,n)}else if(2==e.length){"up"!=l&&"left"!=l||e.reverse();let n=p(e[1].m).diff(p(e[0].m),"days");a=s.FillDays(e,t,n)}else{"up"!=l&&"left"!=l||e.reverse();let n=s.judgeDate(e);if(n[0]&&n[3]){let l=p(e[1].m).diff(p(e[0].m),"months");a=s.FillMonths(e,t,l)}else if(!n[0]&&n[2]){let l=p(e[1].m).diff(p(e[0].m),"days");a=s.FillDays(e,t,l)}else a=s.FillCopy(e,t)}else if("5"==n)if(1==e.length){let n;"down"==l||"right"==l?n=1:"up"!=l&&"left"!=l||(n=-1);let i=Math.round(1.5*t);for(let l=1;l<=i;l++){let i=$.extend(!0,{},e[0]),s=p(i.m).add(l,"days").day();if(0==s||6==s)continue;let d=p(i.m).add(n*l,"days").format("YYYY-MM-DD");if(i.m=d,i.v=b(d)[2],a.push(i),a.length==t)break}}else if(2==e.length)if(p(e[1].m).date()==p(e[0].m).date()&&0!=p(e[1].m).diff(p(e[0].m),"months")){"up"!=l&&"left"!=l||e.reverse();let n=p(e[1].m).diff(p(e[0].m),"months");for(let l=1;l<=t;l++){let t,i=(l-1)%e.length,s=$.extend(!0,{},e[i]),d=p(e[e.length-1]).add(n*l,"months").day();t=0==d?p(e[e.length-1]).add(n*l,"months").subtract(2,"days").format("YYYY-MM-DD"):6==d?p(e[e.length-1]).add(n*l,"months").subtract(1,"days").format("YYYY-MM-DD"):p(e[e.length-1]).add(n*l,"months").format("YYYY-MM-DD"),s.m=t,s.v=b(t)[2],a.push(s)}}else if(Math.abs(p(e[1].m).diff(p(e[0].m)))>7){let n,i;"down"==l||"right"==l?n=1:"up"!=l&&"left"!=l||(n=-1,e.reverse());for(let l=1;l<=t;l++){let t=(l-1)%e.length,s=$.extend(!0,{},e[t]),d=Math.ceil(l/e.length);0==t&&(i=p(s.m).add(n*d,"months").diff(p(s.m),"days"));let o,u=p(s.m).add(i,"days").day();o=0==u?p(s.m).add(i,"days").subtract(2,"days").format("YYYY-MM-DD"):6==u?p(s.m).add(i,"days").subtract(1,"days").format("YYYY-MM-DD"):p(s.m).add(i,"days").format("YYYY-MM-DD"),s.m=o,s.v=b(o)[2],a.push(s)}}else{let n,i;"down"==l||"right"==l?n=7:"up"!=l&&"left"!=l||(n=-7,e.reverse());for(let l=1;l<=t;l++){let t=(l-1)%e.length,s=$.extend(!0,{},e[t]),d=Math.ceil(l/e.length);0==t&&(i=p(s.m).add(n*d,"days").diff(p(s.m),"days"));let o,u=p(s.m).add(i,"days").day();o=0==u?p(s.m).add(i,"days").subtract(2,"days").format("YYYY-MM-DD"):6==u?p(s.m).add(i,"days").subtract(1,"days").format("YYYY-MM-DD"):p(s.m).add(i,"days").format("YYYY-MM-DD"),s.m=o,s.v=b(o)[2],a.push(s)}}else{let n=s.judgeDate(e);if(n[0]&&n[3]){"up"!=l&&"left"!=l||e.reverse();let n=p(e[1].m).diff(p(e[0].m),"months");for(let l=1;l<=t;l++){let t,i=(l-1)%e.length,s=$.extend(!0,{},e[i]),d=p(e[e.length-1].m).add(n*l,"months").day();t=0==d?p(e[e.length-1].m).add(n*l,"months").subtract(2,"days").format("YYYY-MM-DD"):6==d?p(e[e.length-1].m).add(n*l,"months").subtract(1,"days").format("YYYY-MM-DD"):p(e[e.length-1].m).add(n*l,"months").format("YYYY-MM-DD"),s.m=t,s.v=b(t)[2],a.push(s)}}else if(!n[0]&&n[2])if(Math.abs(p(e[1].m).diff(p(e[0].m)))>7){let n,i;"down"==l||"right"==l?n=1:"up"!=l&&"left"!=l||(n=-1,e.reverse());for(let l=1;l<=t;l++){let t=(l-1)%e.length,s=$.extend(!0,{},e[t]),d=Math.ceil(l/e.length);0==t&&(i=p(s.m).add(n*d,"months").diff(p(s.m),"days"));let o,u=p(s.m).add(i,"days").day();o=0==u?p(s.m).add(i,"days").subtract(2,"days").format("YYYY-MM-DD"):6==u?p(s.m).add(i,"days").subtract(1,"days").format("YYYY-MM-DD"):p(s.m).add(i,"days").format("YYYY-MM-DD"),s.m=o,s.v=b(o)[2],a.push(s)}}else{let n,i;"down"==l||"right"==l?n=7:"up"!=l&&"left"!=l||(n=-7,e.reverse());for(let l=1;l<=t;l++){let t=(l-1)%e.length,s=$.extend(!0,{},e[t]),d=Math.ceil(l/e.length);0==t&&(i=p(s.m).add(n*d,"days").diff(p(s.m),"days"));let o,u=p(s.m).add(i,"days").day();o=0==u?p(s.m).add(i,"days").subtract(2,"days").format("YYYY-MM-DD"):6==u?p(s.m).add(i,"days").subtract(1,"days").format("YYYY-MM-DD"):p(s.m).add(i,"days").format("YYYY-MM-DD"),s.m=o,s.v=b(o)[2],a.push(s)}}else"up"!=l&&"left"!=l||e.reverse(),a=s.FillCopy(e,t)}else if("6"==n)if(1==e.length){let n;"down"==l||"right"==l?n=1:"up"!=l&&"left"!=l||(n=-1),a=s.FillMonths(e,t,n)}else if(2==e.length)if(p(e[1].m).date()==p(e[0].m).date()&&0!=p(e[1].m).diff(p(e[0].m),"months")){"up"!=l&&"left"!=l||e.reverse();let n=p(e[1].m).diff(p(e[0].m),"months");a=s.FillMonths(e,t,n)}else{let n,i;"down"==l||"right"==l?n=1:"up"!=l&&"left"!=l||(n=-1,e.reverse());for(let l=1;l<=t;l++){let t=(l-1)%e.length,s=$.extend(!0,{},e[t]),d=Math.ceil(l/e.length);0==t&&(i=p(s.m).add(n*d,"months").diff(p(s.m),"days"));let o=p(s.m).add(i,"days").format("YYYY-MM-DD");s.m=o,s.v=b(o)[2],a.push(s)}}else{let n=s.judgeDate(e);if(n[0]&&n[3]){"up"!=l&&"left"!=l||e.reverse();let n=p(e[1].m).diff(p(e[0].m),"months");a=s.FillMonths(e,t,n)}else if(!n[0]&&n[2]){let n,i;"down"==l||"right"==l?n=1:"up"!=l&&"left"!=l||(n=-1,e.reverse());for(let l=1;l<=t;l++){let t=(l-1)%e.length,s=$.extend(!0,{},e[t]),d=Math.ceil(l/e.length);0==t&&(i=p(s.m).add(n*d,"months").diff(p(s.m),"days"));let o=p(s.m).add(i,"days").format("YYYY-MM-DD");s.m=o,s.v=b(o)[2],a.push(s)}}else"up"!=l&&"left"!=l||e.reverse(),a=s.FillCopy(e,t)}else if("7"==n)if(1==e.length){let n;"down"==l||"right"==l?n=1:"up"!=l&&"left"!=l||(n=-1),a=s.FillYears(e,t,n)}else if(2==e.length)if(p(e[1].m).date()==p(e[0].m).date()&&p(e[1].m).month()==p(e[0].m).month()&&0!=p(e[1].m).diff(p(e[0].m),"years")){"up"!=l&&"left"!=l||e.reverse();let n=p(e[1].m).diff(p(e[0].m),"years");a=s.FillYears(e,t,n)}else{let n,i;"down"==l||"right"==l?n=1:"up"!=l&&"left"!=l||(n=-1,e.reverse());for(let l=1;l<=t;l++){let t=(l-1)%e.length,s=$.extend(!0,{},e[t]),d=Math.ceil(l/e.length);0==t&&(i=p(s.m).add(n*d,"years").diff(p(s.m),"days"));let o=p(s.m).add(i,"days").format("YYYY-MM-DD");s.m=o,s.v=b(o)[2],a.push(s)}}else{let n=s.judgeDate(e);if(n[0]&&n[1]&&n[4]){"up"!=l&&"left"!=l||e.reverse();let n=p(e[1].m).diff(p(e[0].m),"years");a=s.FillYears(e,t,n)}else if(n[0]&&n[3]||n[2]){let n,i;"down"==l||"right"==l?n=1:"up"!=l&&"left"!=l||(n=-1,e.reverse());for(let l=1;l<=t;l++){let t=(l-1)%e.length,s=$.extend(!0,{},e[t]),d=Math.ceil(l/e.length);0==t&&(i=p(s.m).add(n*d,"years").diff(p(s.m),"days"));let o=p(s.m).add(i,"days").format("YYYY-MM-DD");s.m=o,s.v=b(o)[2],a.push(s)}}else"up"!=l&&"left"!=l||e.reverse(),a=s.FillCopy(e,t)}else if("8"==n)if(1==e.length){let n;"down"==l||"right"==l?n=1:"up"!=l&&"left"!=l||(n=-1),a=s.FillChnNumber(e,t,n)}else{let n=[];for(let t=0;t<e.length;t++)n.push(s.ChineseToNumber(e[t].m));if("up"!=l&&"left"!=l||(e.reverse(),n.reverse()),s.isEqualDiff(n)){let l=n[1]-n[0];a=s.FillChnNumber(e,t,l)}else a=s.FillCopy(e,t)}return a},FillCopy:function(e,t){let l=[];for(let n=1;n<=t;n++){let t=(n-1)%e.length,i=$.extend(!0,{},e[t]);l.push(i)}return l},FillSeries:function(e,t,l){let n=this,i=[],s=[];for(let t=0;t<e.length;t++)s.push(Number(e[t].v));if(e.length>2&&n.isEqualRatio(s))for(let n=1;n<=t;n++){let t,s=(n-1)%e.length,a=$.extend(!0,{},e[s]);"down"==l||"right"==l?t=Number(e[e.length-1].v)*Math.pow(Number(e[1].v)/Number(e[0].v),n):"up"!=l&&"left"!=l||(t=Number(e[0].v)/Math.pow(Number(e[1].v)/Number(e[0].v),n)),a.v=t,a.m=C(a.ct.fa,t),i.push(a)}else{let a=n.getXArr(e.length);for(let d=1;d<=t;d++){let t,o=(d-1)%e.length,u=$.extend(!0,{},e[o]);"down"==l||"right"==l?t=n.forecast(e.length+d,s,a):"up"!=l&&"left"!=l||(t=n.forecast(1-d,s,a)),u.v=t,u.m=C(u.ct.fa,t),i.push(u)}}return i},FillExtendNumber:function(e,t,l){let n=[],i=/0|([1-9]+[0-9]*)/g;for(let s=1;s<=t;s++){let t=(s-1)%e.length,a=$.extend(!0,{},e[t]),d=e[e.length-1].m,o=d.match(i),u=o[o.length-1],r=Math.abs(Number(u)+l*s),h=d.lastIndexOf(u),c=d.substr(0,h)+r.toString()+d.substr(h+u.length);a.v=c,a.m=c,n.push(a)}return n},FillOnlyFormat:function(e,t){let l=[];for(let n=1;n<=t;n++){let t=(n-1)%e.length,i=$.extend(!0,{},e[t]);delete i.f,delete i.m,delete i.v,l.push(i)}return l},FillWithoutFormat:function(e){let t=[];for(let l=0;l<e.length;l++){let n,i=$.extend(!0,{},e[l]);n=null==i.f?{m:i.v.toString(),v:i.v}:{f:i.f,m:i.v.toString(),v:i.v},t.push(n)}return t},FillDays:function(e,t,l){let n=[];for(let i=1;i<=t;i++){let t=(i-1)%e.length,s=$.extend(!0,{},e[t]),a=C("yyyy-MM-dd",s.v);a=p(a).add(l*i,"days").format("YYYY-MM-DD"),s.v=b(a)[2],s.m=C(s.ct.fa,s.v),n.push(s)}return n},FillMonths:function(e,t,l){let n=[];for(let i=1;i<=t;i++){let t=(i-1)%e.length,s=$.extend(!0,{},e[t]),a=C("yyyy-MM-dd",s.v);a=p(a).add(l*i,"months").format("YYYY-MM-DD"),s.v=b(a)[2],s.m=C(s.ct.fa,s.v),n.push(s)}return n},FillYears:function(e,t,l){let n=[];for(let i=1;i<=t;i++){let t=(i-1)%e.length,s=$.extend(!0,{},e[t]),a=C("yyyy-MM-dd",s.v);a=p(a).add(l*i,"years").format("YYYY-MM-DD"),s.v=b(a)[2],s.m=C(s.ct.fa,s.v),n.push(s)}return n},FillChnWeek:function(e,t,l){let n=this,i=[];for(let s=1;s<=t;s++){let t,a=(s-1)%e.length,d=$.extend(!0,{},e[a]);(t="日"==e[e.length-1].m?7+l*s:n.ChineseToNumber(e[e.length-1].m)+l*s)<0&&(t=7*Math.ceil(Math.abs(t)/7)+t);let o=t%7;0==o?(d.m="日",d.v="日"):1==o?(d.m="一",d.v="一"):2==o?(d.m="二",d.v="二"):3==o?(d.m="三",d.v="三"):4==o?(d.m="四",d.v="四"):5==o?(d.m="五",d.v="五"):6==o&&(d.m="六",d.v="六"),i.push(d)}return i},FillChnWeek2:function(e,t,l){let n=this,i=[];for(let s=1;s<=t;s++){let t,a=(s-1)%e.length,d=$.extend(!0,{},e[a]);if("周日"==e[e.length-1].m)t=7+l*s;else{let i=e[e.length-1].m,a=i.substr(i.length-1,1);t=n.ChineseToNumber(a)+l*s}t<0&&(t=7*Math.ceil(Math.abs(t)/7)+t);let o=t%7;0==o?(d.m="周日",d.v="周日"):1==o?(d.m="周一",d.v="周一"):2==o?(d.m="周二",d.v="周二"):3==o?(d.m="周三",d.v="周三"):4==o?(d.m="周四",d.v="周四"):5==o?(d.m="周五",d.v="周五"):6==o&&(d.m="周六",d.v="周六"),i.push(d)}return i},FillChnWeek3:function(e,t,l){let n=this,i=[];for(let s=1;s<=t;s++){let t,a=(s-1)%e.length,d=$.extend(!0,{},e[a]);if("星期日"==e[e.length-1].m)t=7+l*s;else{let i=e[e.length-1].m,a=i.substr(i.length-1,1);t=n.ChineseToNumber(a)+l*s}t<0&&(t=7*Math.ceil(Math.abs(t)/7)+t);let o=t%7;0==o?(d.m="星期日",d.v="星期日"):1==o?(d.m="星期一",d.v="星期一"):2==o?(d.m="星期二",d.v="星期二"):3==o?(d.m="星期三",d.v="星期三"):4==o?(d.m="星期四",d.v="星期四"):5==o?(d.m="星期五",d.v="星期五"):6==o&&(d.m="星期六",d.v="星期六"),i.push(d)}return i},FillChnNumber:function(e,t,l){let n=this,i=[];for(let s=1;s<=t;s++){let t,a=(s-1)%e.length,d=$.extend(!0,{},e[a]),o=n.ChineseToNumber(e[e.length-1].m)+l*s;t=o<=0?"零":n.NumberToChinese(o),d.v=t,d.m=t.toString(),i.push(d)}return i},isEqualDiff:function(e){let t=!0,l=e[1]-e[0];for(let n=1;n<e.length;n++)if(e[n]-e[n-1]!=l){t=!1;break}return t},isEqualRatio:function(e){let t=!0,l=e[1]/e[0];for(let n=1;n<e.length;n++)if(e[n]/e[n-1]!=l){t=!1;break}return t},getXArr:function(e){let t=[];for(let l=1;l<=e;l++)t.push(l);return t},forecast:function(e,t,l){function n(e){let t=0;for(let l=0;l<e.length;l++)t+=e[l];return t/e.length}let i,s=n(l),a=n(t),d=0,o=0;for(let e=0;e<l.length;e++)d+=(l[e]-s)*(t[e]-a),o+=(l[e]-s)*(l[e]-s);let u=a-(i=0==o?1:d/o)*s;return Math.round(1e5*(u+i*e))/1e5},judgeDate:function(e){let t=!0,l=!0,n=!0,i=!0,s=!0,a=p(e[0].m).date(),d=p(e[0].m).month(),o=p(e[1].m).diff(p(e[0].m),"days"),u=p(e[1].m).diff(p(e[0].m),"months"),r=p(e[1].m).diff(p(e[0].m),"years");for(let h=1;h<e.length;h++)p(e[h].m).date()!=a&&(t=!1),p(e[h].m).month()!=d&&(l=!1),p(e[h].m).diff(p(e[h-1].m),"days")!=o&&(n=!1),p(e[h].m).diff(p(e[h-1].m),"months")!=u&&(i=!1),p(e[h].m).diff(p(e[h-1].m),"years")!=r&&(s=!1);return 0==o&&(n=!1),0==u&&(i=!1),0==r&&(s=!1),[t,l,n,i,s]}}});
//# sourceMappingURL=../sourcemaps/controllers/dropCell.js.map
