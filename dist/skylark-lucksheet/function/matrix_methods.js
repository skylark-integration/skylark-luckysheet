/**
 * skylark-lucksheet - A version of lucksheet.js that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(function(){"use strict";var e={};return function(e){var t=function(){};t.precision=1e-6;t.create=function(e){return(new t).setElements(e)};t.I=function(e){for(var n,s=[],r=e;r--;)for(n=e,s[r]=[];n--;)s[r][n]=r===n?1:0;return t.create(s)},t.prototype={e:function(e,t){return e<1||e>this.elements.length||t<1||t>this.elements[0].length?null:this.elements[e-1][t-1]},dimensions:function(){var e=0===this.elements.length?0:this.elements[0].length;return{rows:this.elements.length,cols:e}},rows:function(){return this.elements.length},cols:function(){return 0===this.elements.length?0:this.elements[0].length},eql:function(e){var n=e.elements||e;if(n[0]&&void 0!==n[0][0]||(n=t.create(n).elements),0===this.elements.length||0===n.length)return this.elements.length===n.length;if(this.elements.length!==n.length)return!1;if(this.elements[0].length!==n[0].length)return!1;for(var s,r=this.elements.length,l=this.elements[0].length;r--;)for(s=l;s--;)if(Math.abs(this.elements[r][s]-n[r][s])>t.precision)return!1;return!0},dup:function(){return t.create(this.elements)},map:function(e,n){if(0===this.elements.length)return t.create([]);for(var s,r=[],l=this.elements.length,i=this.elements[0].length;l--;)for(s=i,r[l]=[];s--;)r[l][s]=e.call(n,this.elements[l][s],l+1,s+1);return t.create(r)},isSameSizeAs:function(e){var n=e.elements||e;return void 0===n[0][0]&&(n=t.create(n).elements),0===this.elements.length?0===n.length:this.elements.length===n.length&&this.elements[0].length===n[0].length},add:function(e){if(0===this.elements.length)return this.map(function(e){return e});var n=e.elements||e;return void 0===n[0][0]&&(n=t.create(n).elements),this.isSameSizeAs(n)?this.map(function(e,t,s){return e+n[t-1][s-1]}):null},subtract:function(e){if(0===this.elements.length)return this.map(function(e){return e});var n=e.elements||e;return void 0===n[0][0]&&(n=t.create(n).elements),this.isSameSizeAs(n)?this.map(function(e,t,s){return e-n[t-1][s-1]}):null},canMultiplyFromLeft:function(e){if(0===this.elements.length)return!1;var n=e.elements||e;return void 0===n[0][0]&&(n=t.create(n).elements),this.elements[0].length===n.length},multiply:function(e){if(0===this.elements.length)return null;if(!e.elements)return this.map(function(t){return t*e});var n=!!e.modulus;if(void 0===(f=e.elements||e)[0][0]&&(f=t.create(f).elements),!this.canMultiplyFromLeft(f))return null;for(var s,r,l,i=this.elements.length,h=f[0].length,u=this.elements[0].length,m=[];i--;)for(s=h,m[i]=[];s--;){for(r=u,l=0;r--;)l+=this.elements[i][r]*f[r][s];m[i][s]=l}var f=t.create(m);return n?f.col(1):f},minor:function(e,n,s,r){if(0===this.elements.length)return null;for(var l,i,h,u=[],m=s,f=this.elements.length,o=this.elements[0].length;m--;)for(u[l=s-m-1]=[],i=r;i--;)h=r-i-1,u[l][h]=this.elements[(e+l-1)%f][(n+h-1)%o];return t.create(u)},transpose:function(){if(0===this.elements.length)return t.create([]);for(var e,n=this.elements.length,s=[],r=this.elements[0].length;r--;)for(e=n,s[r]=[];e--;)s[r][e]=this.elements[e][r];return t.create(s)},isSquare:function(){var e=0===this.elements.length?0:this.elements[0].length;return this.elements.length===e},max:function(){if(0===this.elements.length)return null;for(var e,t=0,n=this.elements.length,s=this.elements[0].length;n--;)for(e=s;e--;)Math.abs(this.elements[n][e])>Math.abs(t)&&(t=this.elements[n][e]);return t},indexOf:function(e){if(0===this.elements.length)return null;var t,n,s=this.elements.length,r=this.elements[0].length;for(t=0;t<s;t++)for(n=0;n<r;n++)if(this.elements[t][n]===e)return{i:t+1,j:n+1};return null},diagonal:function(){if(!this.isSquare)return null;for(var e=[],n=this.elements.length,s=0;s<n;s++)e.push(this.elements[s][s]);return t.create(e)},toRightTriangular:function(){if(0===this.elements.length)return t.create([]);var e,n,s,r,l=this.dup(),i=this.elements.length,h=this.elements[0].length;for(n=0;n<i;n++){if(0===l.elements[n][n])for(s=n+1;s<i;s++)if(0!==l.elements[s][n]){for(e=[],r=0;r<h;r++)e.push(l.elements[n][r]+l.elements[s][r]);l.elements[n]=e;break}if(0!==l.elements[n][n])for(s=n+1;s<i;s++){var u=l.elements[s][n]/l.elements[n][n];for(e=[],r=0;r<h;r++)e.push(r<=n?0:l.elements[s][r]-l.elements[n][r]*u);l.elements[s]=e}}return l},determinant:function(){if(0===this.elements.length)return 1;if(!this.isSquare())return null;for(var e=this.toRightTriangular(),t=e.elements[0][0],n=e.elements.length,s=1;s<n;s++)t*=e.elements[s][s];return t},isSingular:function(){return this.isSquare()&&0===this.determinant()},trace:function(){if(0===this.elements.length)return 0;if(!this.isSquare())return null;for(var e=this.elements[0][0],t=this.elements.length,n=1;n<t;n++)e+=this.elements[n][n];return e},rank:function(){if(0===this.elements.length)return 0;for(var e,n=this.toRightTriangular(),s=0,r=this.elements.length,l=this.elements[0].length;r--;)for(e=l;e--;)if(Math.abs(n.elements[r][e])>t.precision){s++;break}return s},augment:function(e){if(0===this.elements.length)return this.dup();var n=e.elements||e;void 0===n[0][0]&&(n=t.create(n).elements);var s,r=this.dup(),l=r.elements[0].length,i=r.elements.length,h=n[0].length;if(i!==n.length)return null;for(;i--;)for(s=h;s--;)r.elements[i][l+s]=n[i][s];return r},inverse:function(){if(0===this.elements.length)return null;if(!this.isSquare()||this.isSingular())return null;for(var e,n,s,r,l,i=this.elements.length,h=i,u=this.augment(t.I(i)).toRightTriangular(),m=u.elements[0].length,f=[];h--;){for(s=[],f[h]=[],r=u.elements[h][h],n=0;n<m;n++)l=u.elements[h][n]/r,s.push(l),n>=i&&f[h].push(l);for(u.elements[h]=s,e=h;e--;){for(s=[],n=0;n<m;n++)s.push(u.elements[e][n]-u.elements[h][n]*u.elements[e][h]);u.elements[e]=s}}return t.create(f)},round:function(){return this.map(function(e){return Math.round(e)})},snapTo:function(e){return this.map(function(n){return Math.abs(n-e)<=t.precision?e:n})},setElements:function(e){var t,n,s=e.elements||e;if(s[0]&&void 0!==s[0][0]){for(t=s.length,this.elements=[];t--;)for(n=s[t].length,this.elements[t]=[];n--;)this.elements[t][n]=s[t][n];return this}var r=s.length;for(this.elements=[],t=0;t<r;t++)this.elements.push([s[t]]);return this}},e.sylvester_matrix=t}(e),{inverse:function(t){return e.sylvester_matrix.create(t).inverse().elements}}});
//# sourceMappingURL=../sourcemaps/function/matrix_methods.js.map
