{"version":3,"sources":["methods/createsheet.js"],"names":["define","m_getdata","rhchInit","Store","datagridgrowth","colwidth","rowheight","data","cfg","active","visibledatarow","visibledatacolumn","ch_width","rh_height","zoomRatio","config","length","flowdata","webWorkerFlowDataCache"],"mappings":";;;;;;;AAAAA,QACI,qBACA,sBACA,YACD,SAAUC,EAAYC,EAAUC,GAC/B,aACA,MAAMC,eAACA,GAAkBH,EACzB,OAAO,SAA+BI,EAAUC,EAAWC,EAAMC,EAAKC,GACpD,MAAVA,IACAA,GAAS,GAEbN,EAAMO,kBACNP,EAAMQ,qBACNR,EAAMS,SAAW,EACjBT,EAAMU,UAAY,EAClBV,EAAMW,UAAY,EAEdX,EAAMY,OADC,MAAPP,EACeA,KAIA,GAAfD,EAAKS,OACLb,EAAMc,SAAWb,EAAeG,EAAMD,EAAWD,GAC1CE,EAAKS,OAASV,GAAaC,EAAK,GAAGS,OAASX,EACnDF,EAAMc,SAAWb,EAAeG,EAAMD,EAAYC,EAAKS,OAAQX,EAAWE,EAAK,GAAGS,QAC3ET,EAAKS,OAASV,EACrBH,EAAMc,SAAWb,EAAeG,EAAMD,EAAYC,EAAKS,OAAQ,GACxDT,EAAK,GAAGS,OAASX,EACxBF,EAAMc,SAAWb,EAAeG,EAAM,EAAGF,EAAWE,EAAK,GAAGS,QAE5Db,EAAMc,SAAWV,EAErBJ,EAAMe,uBAAuBf,EAAMc,UAEnCf,EAASI,EAAWD,GAEhBI,GAWAN,EAAMM","file":"../../methods/createsheet.js","sourcesContent":["define([\n    '../methods/getdata',\n    '../methods/rhchInit',\n    '../store'\n], function (m_getdata,  rhchInit, Store) {\n    'use strict';\n    const {datagridgrowth} = m_getdata;\n    return function luckysheetcreatesheet(colwidth, rowheight, data, cfg, active) {\n        if (active == null) {\n            active = true;\n        }\n        Store.visibledatarow = [];\n        Store.visibledatacolumn = [];\n        Store.ch_width = 0;\n        Store.rh_height = 0;\n        Store.zoomRatio = 1;\n        if (cfg != null) {\n            Store.config = cfg;\n        } else {\n            Store.config = {};\n        }\n        if (data.length == 0) {\n            Store.flowdata = datagridgrowth(data, rowheight, colwidth);\n        } else if (data.length < rowheight && data[0].length < colwidth) {\n            Store.flowdata = datagridgrowth(data, rowheight - data.length, colwidth - data[0].length);\n        } else if (data.length < rowheight) {\n            Store.flowdata = datagridgrowth(data, rowheight - data.length, 0);\n        } else if (data[0].length < colwidth) {\n            Store.flowdata = datagridgrowth(data, 0, colwidth - data[0].length);\n        } else {\n            Store.flowdata = data;\n        }\n        Store.webWorkerFlowDataCache(Store.flowdata);    //worker存数据\n        //worker存数据\n        rhchInit(rowheight, colwidth);\n\n        if (active) {\n            /*\n             // move to controller/sheetmanager\n            sheetmanage.showSheet();\n            setTimeout(function () {\n                sheetmanage.restoreCache();\n                formula.execFunctionGroup();\n                sheetmanage.restoreSheetAll(Store.currentSheetIndex);\n                luckysheetrefreshgrid();\n            }, 1);\n            */\n            Store.active();\n        }\n    };\n});"]}