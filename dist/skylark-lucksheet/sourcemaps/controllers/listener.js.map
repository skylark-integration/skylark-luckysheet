{"version":3,"sources":["controllers/listener.js"],"names":["define","m_util","Store","method","m_get","m_api","createProxy","getluckysheetfile","toJson","initListener","target","property","val","receiver","createHookFunction"],"mappings":";;;;;;;AAAAA,QACI,gBACA,WACA,mBACA,iBACA,iBACD,SAAUC,EAAQC,EAAOC,EAAQC,EAAOC,GACvC,aACA,MAAMC,YAACA,GAAeL,GAChBM,kBAACA,GAAqBH,GACtBI,OAACA,GAAUH,EAejB,OAASI,aAdY,WAEjBH,EAAYJ,EAAO,SAAU,CAACQ,EAAQC,EAAUC,EAAKC,KAChC,WAAbF,GAEAR,EAAOW,mBAAmB,UAAWF,KAG7CN,EAAYJ,EAAO,YAAa,CAACQ,EAAQC,EAAUC,EAAKC,KACnC,WAAbF,GAAiC,IAARC,GACzBT,EAAOW,mBAAmB,sBAAuBN","file":"../../controllers/listener.js","sourcesContent":["define([\n    '../utils/util',\n    '../store',\n    '../global/method',\n    '../methods/get',\n    '../global/api'\n], function (m_util, Store, method, m_get, m_api) {\n    'use strict';\n    const {createProxy} = m_util;\n    const {getluckysheetfile} = m_get;\n    const {toJson} = m_api;\n    const initListener = function () {\n        // createProxy(Store,['jfredo']);\n        createProxy(Store, 'jfredo', (target, property, val, receiver) => {\n            if (property !== 'length') {\n                //  钩子函数\n                method.createHookFunction('updated', val);\n            }\n        });\n        createProxy(Store, 'asyncLoad', (target, property, val, receiver) => {\n            if (property === 'length' && val === 0) {\n                method.createHookFunction('workbookCreateAfter', toJson());\n            }\n        });\n    };\n    return { initListener };\n});"]}