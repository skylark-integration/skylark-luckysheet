{"version":3,"sources":["global/location.js"],"names":["define","m_sheetSearch","Store","luckysheet_searcharray","rowLocationByIndex","row_index","row","row_pre","visibledatarow","colLocationByIndex","col_index","col","col_pre","visibledatacolumn","rowLocation","y","length","colLocation","x","mouseposition","container_offset","$","container","offset","left","rowHeaderWidth","top","infobarHeight","toolbarHeight","calculatebarHeight","columnHeaderHeight"],"mappings":";;;;;;;AAAAA,QACI,6BACA,YACD,SAAUC,EAAeC,GACxB,aACA,MAAMC,uBAACA,GAA0BF,EACjC,SAASG,EAAmBC,GACxB,IAAIC,EAAM,EAAGC,EAAU,EAOvB,OANAD,EAAMJ,EAAMM,eAAeH,IAEvBE,EADa,GAAbF,EACU,EAEAH,EAAMM,eAAeH,EAAY,GAI3CC,EACAD,GAYR,SAASI,EAAmBC,GACxB,IAAIC,EAAM,EAAGC,EAAU,EAOvB,OANAD,EAAMT,EAAMW,kBAAkBH,IAE1BE,EADa,GAAbF,EACU,EAEAR,EAAMW,kBAAkBH,EAAY,GAI9CC,EACAD,GAoBR,OACIN,mBAAAA,EACAU,YA1CJ,SAAqBC,GACjB,IAAIV,EAAYF,EAAuBD,EAAMM,eAAgBO,GAM7D,OALkB,GAAdV,GAAmBU,EAAI,EACvBV,EAAYH,EAAMM,eAAeQ,OAAS,GACrB,GAAdX,GAAmBU,GAAK,IAC/BV,EAAY,GAETD,EAAmBC,IAoC1BI,mBAAAA,EACAQ,YArBJ,SAAqBC,GACjB,IAAIR,EAAYP,EAAuBD,EAAMW,kBAAmBK,GAMhE,OALkB,GAAdR,GAAmBQ,EAAI,EACvBR,EAAYR,EAAMW,kBAAkBG,OAAS,GACxB,GAAdN,GAAmBQ,GAAK,IAC/BR,EAAY,GAETD,EAAmBC,IAe1BS,cAbJ,SAAuBD,EAAGH,GACtB,IAAIK,EAAmBC,EAAE,IAAMnB,EAAMoB,WAAWC,SAEhD,OADWL,EAAIE,EAAiBI,KAAOtB,EAAMuB,eAAuBV,EAAIK,EAAiBM,IAAMxB,EAAMyB,cAAgBzB,EAAM0B,cAAgB1B,EAAM2B,mBAAqB3B,EAAM4B","file":"../../global/location.js","sourcesContent":["define([\n    '../controllers/sheetSearch',\n    '../store'\n], function (m_sheetSearch, Store) {\n    'use strict';\n    const {luckysheet_searcharray} = m_sheetSearch;\n    function rowLocationByIndex(row_index) {\n        let row = 0, row_pre = 0;\n        row = Store.visibledatarow[row_index];\n        if (row_index == 0) {\n            row_pre = 0;\n        } else {\n            row_pre = Store.visibledatarow[row_index - 1];\n        }\n        return [\n            row_pre,\n            row,\n            row_index\n        ];\n    }\n    function rowLocation(y) {\n        let row_index = luckysheet_searcharray(Store.visibledatarow, y);\n        if (row_index == -1 && y > 0) {\n            row_index = Store.visibledatarow.length - 1;\n        } else if (row_index == -1 && y <= 0) {\n            row_index = 0;\n        }\n        return rowLocationByIndex(row_index);\n    }\n    function colLocationByIndex(col_index) {\n        let col = 0, col_pre = 0;\n        col = Store.visibledatacolumn[col_index];\n        if (col_index == 0) {\n            col_pre = 0;\n        } else {\n            col_pre = Store.visibledatacolumn[col_index - 1];\n        }\n        return [\n            col_pre,\n            col,\n            col_index\n        ];\n    }\n    function colLocation(x) {\n        let col_index = luckysheet_searcharray(Store.visibledatacolumn, x);\n        if (col_index == -1 && x > 0) {\n            col_index = Store.visibledatacolumn.length - 1;\n        } else if (col_index == -1 && x <= 0) {\n            col_index = 0;\n        }\n        return colLocationByIndex(col_index);\n    }\n    function mouseposition(x, y) {\n        let container_offset = $('#' + Store.container).offset();\n        let newX = x - container_offset.left - Store.rowHeaderWidth, newY = y - container_offset.top - Store.infobarHeight - Store.toolbarHeight - Store.calculatebarHeight - Store.columnHeaderHeight;\n        return [\n            newX,\n            newY\n        ];\n    }\n    return {\n        rowLocationByIndex,\n        rowLocation,\n        colLocationByIndex,\n        colLocation,\n        mouseposition\n    };\n});"]}