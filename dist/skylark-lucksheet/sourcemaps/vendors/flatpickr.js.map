{"version":3,"sources":["vendors/flatpickr.js"],"names":["define","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__spreadArrays","il","r","Array","k","a","j","jl","HOOKS","defaults","_disable","allowInput","allowInvalidPreload","altFormat","altInput","altInputClass","animate","window","navigator","userAgent","indexOf","ariaDateFormat","autoFillDefaultTime","clickOpens","closeOnSelect","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enableSeconds","enableTime","errorHandler","err","console","warn","getWeek","givenDate","date","Date","getTime","setHours","setDate","getDate","getDay","week1","getFullYear","Math","round","hourIncrement","ignoredFocusElements","inline","locale","minuteIncrement","mode","monthSelectorType","nextArrow","noCalendar","now","onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","position","positionElement","undefined","prevArrow","shorthandCurrentMonth","showMonths","static","time_24hr","weekNumbers","wrap","english","weekdays","shorthand","longhand","months","daysInMonth","firstDayOfWeek","ordinal","nth","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","monthAriaLabel","hourAriaLabel","minuteAriaLabel","pad","number","slice","int","bool","debounce","fn","wait","_this","args","clearTimeout","setTimeout","arrayify","obj","toggleClass","elem","className","classList","add","remove","createElement","tag","content","e","document","textContent","clearNode","node","firstChild","removeChild","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","type","pattern","key","setAttribute","appendChild","getEventTarget","event","composedPath","target","error","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","setMonth","G","hour","getHours","parseFloat","H","J","day","K","RegExp","test","M","shortMonth","S","seconds","setSeconds","U","_","unixSeconds","W","weekNum","weekNumber","parseInt","Y","year","setFullYear","Z","ISODate","d","h","minutes","setMinutes","l","m","month","u","unixMillSeconds","w","y","tokenRegex","formats","toISOString","options","getMonth","getSeconds","getMinutes","String","substring","createDateFormatter","_a","_b","config","_c","l10n","_d","isMobile","frmt","overrideLocale","formatDate","split","map","c","arr","join","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","format","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token_1","isBackSlash","escaped","match","exec","val","forEach","isNaN","Error","compareDates","date1","date2","isBetween","ts","ts1","ts2","min","max","calculateSecondsSinceMidnight","hours","parseSeconds","secondsSinceMidnight","floor","duration","DAY","getDefaultHours","minDate","minHour","minMinutes","minSeconds","maxDate","maxHr","maxMinutes","_i","TypeError","_loop_1","source","keys","args_1","DEBOUNCED_CHANGE_MS","FlatpickrInstance","element","instanceConfig","self","flatpickr","defaultConfig","getClosestActiveElement","calendarContainer","getRootNode","activeElement","bindToInstance","bind","setCalendarWidth","requestAnimationFrame","style","visibility","display","daysContainer","daysWidth","days","offsetWidth","width","weekWrapper","removeProperty","updateTime","selectedDates","defaultDate","getMilliseconds","latestSelectedDateObj","preventDefault","isKeyDown","eventTarget","input","getAttribute","step","curValue","value","delta","which","newValue","isHourElem","hourElement","isMinuteElem","minuteElement","incrementNumInput","abs","timeWrapper","prevValue","_input","setHoursFromInputs","updateValue","_debouncedChange","secondElement","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","minBound","maxBound","currentTime","result","setHoursFromDate","onYearInput","toString","changeYear","handler","ev","el","addEventListener","_handlers","push","removeEventListener","triggerChange","triggerEvent","jumpToDate","jumpDate","jumpTo","oldYear","currentYear","oldMonth","currentMonth","message","buildMonthSwitch","redraw","timeIncrement","contains","inputElem","parentNode","createEvent","dispatchEvent","createDay","_dayNumber","dateIsEnabled","isEnabled","dayElement","$i","todayDateElem","tabIndex","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","focus","onMouseOver","getFirstAvailableDay","startMonth","endMonth","children","startIndex","endIndex","focusOnDay","current","offset","dayFocused","isInView","body","startElem","givenMonth","loopDelta","numMonthDays","changeMonth","getNextAvailableDay","buildMonthDays","firstOfMonth","prevMonthDays","utils","getDaysInMonth","createDocumentFragment","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayNumber","dayIndex","dayNum","dayContainer","buildDays","frag","shouldBuildMonth","monthsDropdownContainer","innerHTML","selected","buildMonth","monthElement","container","monthNavFragment","selectedMonth","yearInput","tabindex","yearElement","getElementsByTagName","disabled","buildMonths","monthNav","prevMonthNav","yearElements","monthElements","nextMonthNav","buildWeekdays","weekdayContainer","updateWeekdays","splice","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","updateNavigationCurrentMonth","isCalendarElem","documentClick","isOpen","eventTarget_1","isCalendarElement","lostFocus","path","relatedTarget","isIgnored","some","timeContainer","close","clear","newYear","newYearNum","isNewYear","dateToCheck","enable","array","parsed","from","to","onBlur","isInput","valueChanged","trimEnd","getDateStr","allowKeydown","allowInlineKeydown","keyCode","blur","open","isTimeObj","focusAndClose","selectDate","delta_1","ctrlKey","stopPropagation","currentYearElement","elems","concat","pluginElements","filter","x","shiftKey","charAt","toLowerCase","cellClass","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","rContainer","querySelectorAll","dayElem","timestamp","outOfRange","onResize","positionCalendar","minMaxDateSetter","inverseDateObj","removeAttribute","getInputElem","querySelector","setupLocale","l10ns","default","JSON","parse","stringify","dataset","customPositionElement","_positionElement","calendarHeight","reduce","acc","child","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","getBoundingClientRect","distanceFromBottom","innerHeight","bottom","showOnTop","top","pageYOffset","left","pageXOffset","isCenter","isRight","right","rightMost","centerMost","doc","editableSheet","styleSheets","sheet","cssRules","head","getDocumentStyleSheet","bodyWidth","centerLeft","centerIndex","centerStyle","insertRule","centerBefore","msMaxTouchPoints","findParent","condition","selectedDate","shouldChangeMonth","selectedIndex","sort","b","single","range","loadedPlugins","_bind","_setHoursFromDate","_positionCalendar","triggerChangeEvent","toInitial","mobileInput","_initialDate","_createElement","destroy","lastChild","insertBefore","_type","click","wasOpen","select","set","option","CALLBACKS","setSelectedDate","toggle","updatePositionElement","inputDate","dates","parseDateRules","rule","data","hooks","name","initEvent","specificFormat","dObj","mobileFormatStr","onMonthNavClick","isPrevMonth","isNextMonth","boolOpts","userConfig","defineProperty","get","_enable","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","parseConfig","nodeName","placeholder","required","nextSibling","preloadedDate","setupDates","yr","fragment","__hidePrevMonthArrow","__hideNextMonthArrow","innerContainer","buildWeeks","separator","hourInput","aria-label","minuteInput","military2ampm","secondInput","title","buildTime","customAppend","appendTo","nodeType","build","evt","inputType","defaultValue","setupMobile","debouncedResize","ontouchstart","capture","bindEvents","isSafari","init","_flatpickr","nodeList","nodes","HTMLElement","instances","HTMLCollection","NodeList","selector","Node","en","localize","setDefaults","jQuery","fp_incr"],"mappings":"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","file":"../../vendors/flatpickr.js","sourcesContent":["/* flatpickr v4.6.13, @license MIT */\r\n\r\ndefine([],function () { \r\n    'use strict';\r\n\r\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __spreadArrays() {\r\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n                r[k] = a[j];\r\n        return r;\r\n    }\r\n\r\n    var HOOKS = [\r\n        \"onChange\",\r\n        \"onClose\",\r\n        \"onDayCreate\",\r\n        \"onDestroy\",\r\n        \"onKeyDown\",\r\n        \"onMonthChange\",\r\n        \"onOpen\",\r\n        \"onParseConfig\",\r\n        \"onReady\",\r\n        \"onValueUpdate\",\r\n        \"onYearChange\",\r\n        \"onPreCalendarPosition\",\r\n    ];\r\n    var defaults = {\r\n        _disable: [],\r\n        allowInput: false,\r\n        allowInvalidPreload: false,\r\n        altFormat: \"F j, Y\",\r\n        altInput: false,\r\n        altInputClass: \"form-control input\",\r\n        animate: typeof window === \"object\" &&\r\n            window.navigator.userAgent.indexOf(\"MSIE\") === -1,\r\n        ariaDateFormat: \"F j, Y\",\r\n        autoFillDefaultTime: true,\r\n        clickOpens: true,\r\n        closeOnSelect: true,\r\n        conjunction: \", \",\r\n        dateFormat: \"Y-m-d\",\r\n        defaultHour: 12,\r\n        defaultMinute: 0,\r\n        defaultSeconds: 0,\r\n        disable: [],\r\n        disableMobile: false,\r\n        enableSeconds: false,\r\n        enableTime: false,\r\n        errorHandler: function (err) {\r\n            return typeof console !== \"undefined\" && console.warn(err);\r\n        },\r\n        getWeek: function (givenDate) {\r\n            var date = new Date(givenDate.getTime());\r\n            date.setHours(0, 0, 0, 0);\r\n            // Thursday in current week decides the year.\r\n            date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\r\n            // January 4 is always in week 1.\r\n            var week1 = new Date(date.getFullYear(), 0, 4);\r\n            // Adjust to Thursday in week 1 and count number of weeks from date to week1.\r\n            return (1 +\r\n                Math.round(((date.getTime() - week1.getTime()) / 86400000 -\r\n                    3 +\r\n                    ((week1.getDay() + 6) % 7)) /\r\n                    7));\r\n        },\r\n        hourIncrement: 1,\r\n        ignoredFocusElements: [],\r\n        inline: false,\r\n        locale: \"default\",\r\n        minuteIncrement: 5,\r\n        mode: \"single\",\r\n        monthSelectorType: \"dropdown\",\r\n        nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\r\n        noCalendar: false,\r\n        now: new Date(),\r\n        onChange: [],\r\n        onClose: [],\r\n        onDayCreate: [],\r\n        onDestroy: [],\r\n        onKeyDown: [],\r\n        onMonthChange: [],\r\n        onOpen: [],\r\n        onParseConfig: [],\r\n        onReady: [],\r\n        onValueUpdate: [],\r\n        onYearChange: [],\r\n        onPreCalendarPosition: [],\r\n        plugins: [],\r\n        position: \"auto\",\r\n        positionElement: undefined,\r\n        prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\r\n        shorthandCurrentMonth: false,\r\n        showMonths: 1,\r\n        static: false,\r\n        time_24hr: false,\r\n        weekNumbers: false,\r\n        wrap: false,\r\n    };\r\n\r\n    var english = {\r\n        weekdays: {\r\n            shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\r\n            longhand: [\r\n                \"Sunday\",\r\n                \"Monday\",\r\n                \"Tuesday\",\r\n                \"Wednesday\",\r\n                \"Thursday\",\r\n                \"Friday\",\r\n                \"Saturday\",\r\n            ],\r\n        },\r\n        months: {\r\n            shorthand: [\r\n                \"Jan\",\r\n                \"Feb\",\r\n                \"Mar\",\r\n                \"Apr\",\r\n                \"May\",\r\n                \"Jun\",\r\n                \"Jul\",\r\n                \"Aug\",\r\n                \"Sep\",\r\n                \"Oct\",\r\n                \"Nov\",\r\n                \"Dec\",\r\n            ],\r\n            longhand: [\r\n                \"January\",\r\n                \"February\",\r\n                \"March\",\r\n                \"April\",\r\n                \"May\",\r\n                \"June\",\r\n                \"July\",\r\n                \"August\",\r\n                \"September\",\r\n                \"October\",\r\n                \"November\",\r\n                \"December\",\r\n            ],\r\n        },\r\n        daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\r\n        firstDayOfWeek: 0,\r\n        ordinal: function (nth) {\r\n            var s = nth % 100;\r\n            if (s > 3 && s < 21)\r\n                return \"th\";\r\n            switch (s % 10) {\r\n                case 1:\r\n                    return \"st\";\r\n                case 2:\r\n                    return \"nd\";\r\n                case 3:\r\n                    return \"rd\";\r\n                default:\r\n                    return \"th\";\r\n            }\r\n        },\r\n        rangeSeparator: \" to \",\r\n        weekAbbreviation: \"Wk\",\r\n        scrollTitle: \"Scroll to increment\",\r\n        toggleTitle: \"Click to toggle\",\r\n        amPM: [\"AM\", \"PM\"],\r\n        yearAriaLabel: \"Year\",\r\n        monthAriaLabel: \"Month\",\r\n        hourAriaLabel: \"Hour\",\r\n        minuteAriaLabel: \"Minute\",\r\n        time_24hr: false,\r\n    };\r\n\r\n    var pad = function (number, length) {\r\n        if (length === void 0) { length = 2; }\r\n        return (\"000\" + number).slice(length * -1);\r\n    };\r\n    var int = function (bool) { return (bool === true ? 1 : 0); };\r\n    /* istanbul ignore next */\r\n    function debounce(fn, wait) {\r\n        var t;\r\n        return function () {\r\n            var _this = this;\r\n            var args = arguments;\r\n            clearTimeout(t);\r\n            t = setTimeout(function () { return fn.apply(_this, args); }, wait);\r\n        };\r\n    }\r\n    var arrayify = function (obj) {\r\n        return obj instanceof Array ? obj : [obj];\r\n    };\r\n\r\n    function toggleClass(elem, className, bool) {\r\n        if (bool === true)\r\n            return elem.classList.add(className);\r\n        elem.classList.remove(className);\r\n    }\r\n    function createElement(tag, className, content) {\r\n        var e = window.document.createElement(tag);\r\n        className = className || \"\";\r\n        content = content || \"\";\r\n        e.className = className;\r\n        if (content !== undefined)\r\n            e.textContent = content;\r\n        return e;\r\n    }\r\n    function clearNode(node) {\r\n        while (node.firstChild)\r\n            node.removeChild(node.firstChild);\r\n    }\r\n    function findParent(node, condition) {\r\n        if (condition(node))\r\n            return node;\r\n        else if (node.parentNode)\r\n            return findParent(node.parentNode, condition);\r\n        return undefined; // nothing found\r\n    }\r\n    function createNumberInput(inputClassName, opts) {\r\n        var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\r\n        if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\r\n            numInput.type = \"number\";\r\n        }\r\n        else {\r\n            numInput.type = \"text\";\r\n            numInput.pattern = \"\\\\d*\";\r\n        }\r\n        if (opts !== undefined)\r\n            for (var key in opts)\r\n                numInput.setAttribute(key, opts[key]);\r\n        wrapper.appendChild(numInput);\r\n        wrapper.appendChild(arrowUp);\r\n        wrapper.appendChild(arrowDown);\r\n        return wrapper;\r\n    }\r\n    function getEventTarget(event) {\r\n        try {\r\n            if (typeof event.composedPath === \"function\") {\r\n                var path = event.composedPath();\r\n                return path[0];\r\n            }\r\n            return event.target;\r\n        }\r\n        catch (error) {\r\n            return event.target;\r\n        }\r\n    }\r\n\r\n    var doNothing = function () { return undefined; };\r\n    var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\r\n    var revFormat = {\r\n        D: doNothing,\r\n        F: function (dateObj, monthName, locale) {\r\n            dateObj.setMonth(locale.months.longhand.indexOf(monthName));\r\n        },\r\n        G: function (dateObj, hour) {\r\n            dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\r\n        },\r\n        H: function (dateObj, hour) {\r\n            dateObj.setHours(parseFloat(hour));\r\n        },\r\n        J: function (dateObj, day) {\r\n            dateObj.setDate(parseFloat(day));\r\n        },\r\n        K: function (dateObj, amPM, locale) {\r\n            dateObj.setHours((dateObj.getHours() % 12) +\r\n                12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\r\n        },\r\n        M: function (dateObj, shortMonth, locale) {\r\n            dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\r\n        },\r\n        S: function (dateObj, seconds) {\r\n            dateObj.setSeconds(parseFloat(seconds));\r\n        },\r\n        U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\r\n        W: function (dateObj, weekNum, locale) {\r\n            var weekNumber = parseInt(weekNum);\r\n            var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\r\n            date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\r\n            return date;\r\n        },\r\n        Y: function (dateObj, year) {\r\n            dateObj.setFullYear(parseFloat(year));\r\n        },\r\n        Z: function (_, ISODate) { return new Date(ISODate); },\r\n        d: function (dateObj, day) {\r\n            dateObj.setDate(parseFloat(day));\r\n        },\r\n        h: function (dateObj, hour) {\r\n            dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\r\n        },\r\n        i: function (dateObj, minutes) {\r\n            dateObj.setMinutes(parseFloat(minutes));\r\n        },\r\n        j: function (dateObj, day) {\r\n            dateObj.setDate(parseFloat(day));\r\n        },\r\n        l: doNothing,\r\n        m: function (dateObj, month) {\r\n            dateObj.setMonth(parseFloat(month) - 1);\r\n        },\r\n        n: function (dateObj, month) {\r\n            dateObj.setMonth(parseFloat(month) - 1);\r\n        },\r\n        s: function (dateObj, seconds) {\r\n            dateObj.setSeconds(parseFloat(seconds));\r\n        },\r\n        u: function (_, unixMillSeconds) {\r\n            return new Date(parseFloat(unixMillSeconds));\r\n        },\r\n        w: doNothing,\r\n        y: function (dateObj, year) {\r\n            dateObj.setFullYear(2000 + parseFloat(year));\r\n        },\r\n    };\r\n    var tokenRegex = {\r\n        D: \"\",\r\n        F: \"\",\r\n        G: \"(\\\\d\\\\d|\\\\d)\",\r\n        H: \"(\\\\d\\\\d|\\\\d)\",\r\n        J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\r\n        K: \"\",\r\n        M: \"\",\r\n        S: \"(\\\\d\\\\d|\\\\d)\",\r\n        U: \"(.+)\",\r\n        W: \"(\\\\d\\\\d|\\\\d)\",\r\n        Y: \"(\\\\d{4})\",\r\n        Z: \"(.+)\",\r\n        d: \"(\\\\d\\\\d|\\\\d)\",\r\n        h: \"(\\\\d\\\\d|\\\\d)\",\r\n        i: \"(\\\\d\\\\d|\\\\d)\",\r\n        j: \"(\\\\d\\\\d|\\\\d)\",\r\n        l: \"\",\r\n        m: \"(\\\\d\\\\d|\\\\d)\",\r\n        n: \"(\\\\d\\\\d|\\\\d)\",\r\n        s: \"(\\\\d\\\\d|\\\\d)\",\r\n        u: \"(.+)\",\r\n        w: \"(\\\\d\\\\d|\\\\d)\",\r\n        y: \"(\\\\d{2})\",\r\n    };\r\n    var formats = {\r\n        // get the date in UTC\r\n        Z: function (date) { return date.toISOString(); },\r\n        // weekday name, short, e.g. Thu\r\n        D: function (date, locale, options) {\r\n            return locale.weekdays.shorthand[formats.w(date, locale, options)];\r\n        },\r\n        // full month name e.g. January\r\n        F: function (date, locale, options) {\r\n            return monthToStr(formats.n(date, locale, options) - 1, false, locale);\r\n        },\r\n        // padded hour 1-12\r\n        G: function (date, locale, options) {\r\n            return pad(formats.h(date, locale, options));\r\n        },\r\n        // hours with leading zero e.g. 03\r\n        H: function (date) { return pad(date.getHours()); },\r\n        // day (1-30) with ordinal suffix e.g. 1st, 2nd\r\n        J: function (date, locale) {\r\n            return locale.ordinal !== undefined\r\n                ? date.getDate() + locale.ordinal(date.getDate())\r\n                : date.getDate();\r\n        },\r\n        // AM/PM\r\n        K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\r\n        // shorthand month e.g. Jan, Sep, Oct, etc\r\n        M: function (date, locale) {\r\n            return monthToStr(date.getMonth(), true, locale);\r\n        },\r\n        // seconds 00-59\r\n        S: function (date) { return pad(date.getSeconds()); },\r\n        // unix timestamp\r\n        U: function (date) { return date.getTime() / 1000; },\r\n        W: function (date, _, options) {\r\n            return options.getWeek(date);\r\n        },\r\n        // full year e.g. 2016, padded (0001-9999)\r\n        Y: function (date) { return pad(date.getFullYear(), 4); },\r\n        // day in month, padded (01-30)\r\n        d: function (date) { return pad(date.getDate()); },\r\n        // hour from 1-12 (am/pm)\r\n        h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\r\n        // minutes, padded with leading zero e.g. 09\r\n        i: function (date) { return pad(date.getMinutes()); },\r\n        // day in month (1-30)\r\n        j: function (date) { return date.getDate(); },\r\n        // weekday name, full, e.g. Thursday\r\n        l: function (date, locale) {\r\n            return locale.weekdays.longhand[date.getDay()];\r\n        },\r\n        // padded month number (01-12)\r\n        m: function (date) { return pad(date.getMonth() + 1); },\r\n        // the month number (1-12)\r\n        n: function (date) { return date.getMonth() + 1; },\r\n        // seconds 0-59\r\n        s: function (date) { return date.getSeconds(); },\r\n        // Unix Milliseconds\r\n        u: function (date) { return date.getTime(); },\r\n        // number of the day of the week\r\n        w: function (date) { return date.getDay(); },\r\n        // last two digits of year e.g. 16 for 2016\r\n        y: function (date) { return String(date.getFullYear()).substring(2); },\r\n    };\r\n\r\n    var createDateFormatter = function (_a) {\r\n        var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;\r\n        return function (dateObj, frmt, overrideLocale) {\r\n            var locale = overrideLocale || l10n;\r\n            if (config.formatDate !== undefined && !isMobile) {\r\n                return config.formatDate(dateObj, frmt, locale);\r\n            }\r\n            return frmt\r\n                .split(\"\")\r\n                .map(function (c, i, arr) {\r\n                return formats[c] && arr[i - 1] !== \"\\\\\"\r\n                    ? formats[c](dateObj, locale, config)\r\n                    : c !== \"\\\\\"\r\n                        ? c\r\n                        : \"\";\r\n            })\r\n                .join(\"\");\r\n        };\r\n    };\r\n    var createDateParser = function (_a) {\r\n        var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\r\n        return function (date, givenFormat, timeless, customLocale) {\r\n            if (date !== 0 && !date)\r\n                return undefined;\r\n            var locale = customLocale || l10n;\r\n            var parsedDate;\r\n            var dateOrig = date;\r\n            if (date instanceof Date)\r\n                parsedDate = new Date(date.getTime());\r\n            else if (typeof date !== \"string\" &&\r\n                date.toFixed !== undefined // timestamp\r\n            )\r\n                // create a copy\r\n                parsedDate = new Date(date);\r\n            else if (typeof date === \"string\") {\r\n                // date string\r\n                var format = givenFormat || (config || defaults).dateFormat;\r\n                var datestr = String(date).trim();\r\n                if (datestr === \"today\") {\r\n                    parsedDate = new Date();\r\n                    timeless = true;\r\n                }\r\n                else if (config && config.parseDate) {\r\n                    parsedDate = config.parseDate(date, format);\r\n                }\r\n                else if (/Z$/.test(datestr) ||\r\n                    /GMT$/.test(datestr) // datestrings w/ timezone\r\n                ) {\r\n                    parsedDate = new Date(date);\r\n                }\r\n                else {\r\n                    var matched = void 0, ops = [];\r\n                    for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\r\n                        var token_1 = format[i];\r\n                        var isBackSlash = token_1 === \"\\\\\";\r\n                        var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\r\n                        if (tokenRegex[token_1] && !escaped) {\r\n                            regexStr += tokenRegex[token_1];\r\n                            var match = new RegExp(regexStr).exec(date);\r\n                            if (match && (matched = true)) {\r\n                                ops[token_1 !== \"Y\" ? \"push\" : \"unshift\"]({\r\n                                    fn: revFormat[token_1],\r\n                                    val: match[++matchIndex],\r\n                                });\r\n                            }\r\n                        }\r\n                        else if (!isBackSlash)\r\n                            regexStr += \".\"; // don't really care\r\n                    }\r\n                    parsedDate =\r\n                        !config || !config.noCalendar\r\n                            ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\r\n                            : new Date(new Date().setHours(0, 0, 0, 0));\r\n                    ops.forEach(function (_a) {\r\n                        var fn = _a.fn, val = _a.val;\r\n                        return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\r\n                    });\r\n                    parsedDate = matched ? parsedDate : undefined;\r\n                }\r\n            }\r\n            /* istanbul ignore next */\r\n            if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\r\n                config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\r\n                return undefined;\r\n            }\r\n            if (timeless === true)\r\n                parsedDate.setHours(0, 0, 0, 0);\r\n            return parsedDate;\r\n        };\r\n    };\r\n    /**\r\n     * Compute the difference in dates, measured in ms\r\n     */\r\n    function compareDates(date1, date2, timeless) {\r\n        if (timeless === void 0) { timeless = true; }\r\n        if (timeless !== false) {\r\n            return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\r\n                new Date(date2.getTime()).setHours(0, 0, 0, 0));\r\n        }\r\n        return date1.getTime() - date2.getTime();\r\n    }\r\n    var isBetween = function (ts, ts1, ts2) {\r\n        return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\r\n    };\r\n    var calculateSecondsSinceMidnight = function (hours, minutes, seconds) {\r\n        return hours * 3600 + minutes * 60 + seconds;\r\n    };\r\n    var parseSeconds = function (secondsSinceMidnight) {\r\n        var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;\r\n        return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];\r\n    };\r\n    var duration = {\r\n        DAY: 86400000,\r\n    };\r\n    function getDefaultHours(config) {\r\n        var hours = config.defaultHour;\r\n        var minutes = config.defaultMinute;\r\n        var seconds = config.defaultSeconds;\r\n        if (config.minDate !== undefined) {\r\n            var minHour = config.minDate.getHours();\r\n            var minMinutes = config.minDate.getMinutes();\r\n            var minSeconds = config.minDate.getSeconds();\r\n            if (hours < minHour) {\r\n                hours = minHour;\r\n            }\r\n            if (hours === minHour && minutes < minMinutes) {\r\n                minutes = minMinutes;\r\n            }\r\n            if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\r\n                seconds = config.minDate.getSeconds();\r\n        }\r\n        if (config.maxDate !== undefined) {\r\n            var maxHr = config.maxDate.getHours();\r\n            var maxMinutes = config.maxDate.getMinutes();\r\n            hours = Math.min(hours, maxHr);\r\n            if (hours === maxHr)\r\n                minutes = Math.min(maxMinutes, minutes);\r\n            if (hours === maxHr && minutes === maxMinutes)\r\n                seconds = config.maxDate.getSeconds();\r\n        }\r\n        return { hours: hours, minutes: minutes, seconds: seconds };\r\n    }\r\n\r\n    if (typeof Object.assign !== \"function\") {\r\n        Object.assign = function (target) {\r\n            var args = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                args[_i - 1] = arguments[_i];\r\n            }\r\n            if (!target) {\r\n                throw TypeError(\"Cannot convert undefined or null to object\");\r\n            }\r\n            var _loop_1 = function (source) {\r\n                if (source) {\r\n                    Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\r\n                }\r\n            };\r\n            for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\r\n                var source = args_1[_a];\r\n                _loop_1(source);\r\n            }\r\n            return target;\r\n        };\r\n    }\r\n\r\n    var DEBOUNCED_CHANGE_MS = 300;\r\n    function FlatpickrInstance(element, instanceConfig) {\r\n        var self = {\r\n            config: __assign(__assign({}, defaults), flatpickr.defaultConfig),\r\n            l10n: english,\r\n        };\r\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\r\n        self._handlers = [];\r\n        self.pluginElements = [];\r\n        self.loadedPlugins = [];\r\n        self._bind = bind;\r\n        self._setHoursFromDate = setHoursFromDate;\r\n        self._positionCalendar = positionCalendar;\r\n        self.changeMonth = changeMonth;\r\n        self.changeYear = changeYear;\r\n        self.clear = clear;\r\n        self.close = close;\r\n        self.onMouseOver = onMouseOver;\r\n        self._createElement = createElement;\r\n        self.createDay = createDay;\r\n        self.destroy = destroy;\r\n        self.isEnabled = isEnabled;\r\n        self.jumpToDate = jumpToDate;\r\n        self.updateValue = updateValue;\r\n        self.open = open;\r\n        self.redraw = redraw;\r\n        self.set = set;\r\n        self.setDate = setDate;\r\n        self.toggle = toggle;\r\n        function setupHelperFunctions() {\r\n            self.utils = {\r\n                getDaysInMonth: function (month, yr) {\r\n                    if (month === void 0) { month = self.currentMonth; }\r\n                    if (yr === void 0) { yr = self.currentYear; }\r\n                    if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\r\n                        return 29;\r\n                    return self.l10n.daysInMonth[month];\r\n                },\r\n            };\r\n        }\r\n        function init() {\r\n            self.element = self.input = element;\r\n            self.isOpen = false;\r\n            parseConfig();\r\n            setupLocale();\r\n            setupInputs();\r\n            setupDates();\r\n            setupHelperFunctions();\r\n            if (!self.isMobile)\r\n                build();\r\n            bindEvents();\r\n            if (self.selectedDates.length || self.config.noCalendar) {\r\n                if (self.config.enableTime) {\r\n                    setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\r\n                }\r\n                updateValue(false);\r\n            }\r\n            setCalendarWidth();\r\n            var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n            /* TODO: investigate this further\r\n        \r\n              Currently, there is weird positioning behavior in safari causing pages\r\n              to scroll up. https://github.com/chmln/flatpickr/issues/563\r\n        \r\n              However, most browsers are not Safari and positioning is expensive when used\r\n              in scale. https://github.com/chmln/flatpickr/issues/1096\r\n            */\r\n            if (!self.isMobile && isSafari) {\r\n                positionCalendar();\r\n            }\r\n            triggerEvent(\"onReady\");\r\n        }\r\n        function getClosestActiveElement() {\r\n            var _a;\r\n            return (((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode())\r\n                .activeElement || document.activeElement);\r\n        }\r\n        function bindToInstance(fn) {\r\n            return fn.bind(self);\r\n        }\r\n        function setCalendarWidth() {\r\n            var config = self.config;\r\n            if (config.weekNumbers === false && config.showMonths === 1) {\r\n                return;\r\n            }\r\n            else if (config.noCalendar !== true) {\r\n                window.requestAnimationFrame(function () {\r\n                    if (self.calendarContainer !== undefined) {\r\n                        self.calendarContainer.style.visibility = \"hidden\";\r\n                        self.calendarContainer.style.display = \"block\";\r\n                    }\r\n                    if (self.daysContainer !== undefined) {\r\n                        var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\r\n                        self.daysContainer.style.width = daysWidth + \"px\";\r\n                        self.calendarContainer.style.width =\r\n                            daysWidth +\r\n                                (self.weekWrapper !== undefined\r\n                                    ? self.weekWrapper.offsetWidth\r\n                                    : 0) +\r\n                                \"px\";\r\n                        self.calendarContainer.style.removeProperty(\"visibility\");\r\n                        self.calendarContainer.style.removeProperty(\"display\");\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        /**\r\n         * The handler for all events targeting the time inputs\r\n         */\r\n        function updateTime(e) {\r\n            if (self.selectedDates.length === 0) {\r\n                var defaultDate = self.config.minDate === undefined ||\r\n                    compareDates(new Date(), self.config.minDate) >= 0\r\n                    ? new Date()\r\n                    : new Date(self.config.minDate.getTime());\r\n                var defaults = getDefaultHours(self.config);\r\n                defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\r\n                self.selectedDates = [defaultDate];\r\n                self.latestSelectedDateObj = defaultDate;\r\n            }\r\n            if (e !== undefined && e.type !== \"blur\") {\r\n                timeWrapper(e);\r\n            }\r\n            var prevValue = self._input.value;\r\n            setHoursFromInputs();\r\n            updateValue();\r\n            if (self._input.value !== prevValue) {\r\n                self._debouncedChange();\r\n            }\r\n        }\r\n        function ampm2military(hour, amPM) {\r\n            return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\r\n        }\r\n        function military2ampm(hour) {\r\n            switch (hour % 24) {\r\n                case 0:\r\n                case 12:\r\n                    return 12;\r\n                default:\r\n                    return hour % 12;\r\n            }\r\n        }\r\n        /**\r\n         * Syncs the selected date object time with user's time input\r\n         */\r\n        function setHoursFromInputs() {\r\n            if (self.hourElement === undefined || self.minuteElement === undefined)\r\n                return;\r\n            var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\r\n                ? (parseInt(self.secondElement.value, 10) || 0) % 60\r\n                : 0;\r\n            if (self.amPM !== undefined) {\r\n                hours = ampm2military(hours, self.amPM.textContent);\r\n            }\r\n            var limitMinHours = self.config.minTime !== undefined ||\r\n                (self.config.minDate &&\r\n                    self.minDateHasTime &&\r\n                    self.latestSelectedDateObj &&\r\n                    compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\r\n                        0);\r\n            var limitMaxHours = self.config.maxTime !== undefined ||\r\n                (self.config.maxDate &&\r\n                    self.maxDateHasTime &&\r\n                    self.latestSelectedDateObj &&\r\n                    compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\r\n                        0);\r\n            if (self.config.maxTime !== undefined &&\r\n                self.config.minTime !== undefined &&\r\n                self.config.minTime > self.config.maxTime) {\r\n                var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());\r\n                var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());\r\n                var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);\r\n                if (currentTime > maxBound && currentTime < minBound) {\r\n                    var result = parseSeconds(minBound);\r\n                    hours = result[0];\r\n                    minutes = result[1];\r\n                    seconds = result[2];\r\n                }\r\n            }\r\n            else {\r\n                if (limitMaxHours) {\r\n                    var maxTime = self.config.maxTime !== undefined\r\n                        ? self.config.maxTime\r\n                        : self.config.maxDate;\r\n                    hours = Math.min(hours, maxTime.getHours());\r\n                    if (hours === maxTime.getHours())\r\n                        minutes = Math.min(minutes, maxTime.getMinutes());\r\n                    if (minutes === maxTime.getMinutes())\r\n                        seconds = Math.min(seconds, maxTime.getSeconds());\r\n                }\r\n                if (limitMinHours) {\r\n                    var minTime = self.config.minTime !== undefined\r\n                        ? self.config.minTime\r\n                        : self.config.minDate;\r\n                    hours = Math.max(hours, minTime.getHours());\r\n                    if (hours === minTime.getHours() && minutes < minTime.getMinutes())\r\n                        minutes = minTime.getMinutes();\r\n                    if (minutes === minTime.getMinutes())\r\n                        seconds = Math.max(seconds, minTime.getSeconds());\r\n                }\r\n            }\r\n            setHours(hours, minutes, seconds);\r\n        }\r\n        /**\r\n         * Syncs time input values with a date\r\n         */\r\n        function setHoursFromDate(dateObj) {\r\n            var date = dateObj || self.latestSelectedDateObj;\r\n            if (date && date instanceof Date) {\r\n                setHours(date.getHours(), date.getMinutes(), date.getSeconds());\r\n            }\r\n        }\r\n        /**\r\n         * Sets the hours, minutes, and optionally seconds\r\n         * of the latest selected date object and the\r\n         * corresponding time inputs\r\n         * @param {Number} hours the hour. whether its military\r\n         *                 or am-pm gets inferred from config\r\n         * @param {Number} minutes the minutes\r\n         * @param {Number} seconds the seconds (optional)\r\n         */\r\n        function setHours(hours, minutes, seconds) {\r\n            if (self.latestSelectedDateObj !== undefined) {\r\n                self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\r\n            }\r\n            if (!self.hourElement || !self.minuteElement || self.isMobile)\r\n                return;\r\n            self.hourElement.value = pad(!self.config.time_24hr\r\n                ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\r\n                : hours);\r\n            self.minuteElement.value = pad(minutes);\r\n            if (self.amPM !== undefined)\r\n                self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\r\n            if (self.secondElement !== undefined)\r\n                self.secondElement.value = pad(seconds);\r\n        }\r\n        /**\r\n         * Handles the year input and incrementing events\r\n         * @param {Event} event the keyup or increment event\r\n         */\r\n        function onYearInput(event) {\r\n            var eventTarget = getEventTarget(event);\r\n            var year = parseInt(eventTarget.value) + (event.delta || 0);\r\n            if (year / 1000 > 1 ||\r\n                (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\r\n                changeYear(year);\r\n            }\r\n        }\r\n        /**\r\n         * Essentially addEventListener + tracking\r\n         * @param {Element} element the element to addEventListener to\r\n         * @param {String} event the event name\r\n         * @param {Function} handler the event handler\r\n         */\r\n        function bind(element, event, handler, options) {\r\n            if (event instanceof Array)\r\n                return event.forEach(function (ev) { return bind(element, ev, handler, options); });\r\n            if (element instanceof Array)\r\n                return element.forEach(function (el) { return bind(el, event, handler, options); });\r\n            element.addEventListener(event, handler, options);\r\n            self._handlers.push({\r\n                remove: function () { return element.removeEventListener(event, handler, options); },\r\n            });\r\n        }\r\n        function triggerChange() {\r\n            triggerEvent(\"onChange\");\r\n        }\r\n        /**\r\n         * Adds all the necessary event listeners\r\n         */\r\n        function bindEvents() {\r\n            if (self.config.wrap) {\r\n                [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\r\n                    Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\r\n                        return bind(el, \"click\", self[evt]);\r\n                    });\r\n                });\r\n            }\r\n            if (self.isMobile) {\r\n                setupMobile();\r\n                return;\r\n            }\r\n            var debouncedResize = debounce(onResize, 50);\r\n            self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\r\n            if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\r\n                bind(self.daysContainer, \"mouseover\", function (e) {\r\n                    if (self.config.mode === \"range\")\r\n                        onMouseOver(getEventTarget(e));\r\n                });\r\n            bind(self._input, \"keydown\", onKeyDown);\r\n            if (self.calendarContainer !== undefined) {\r\n                bind(self.calendarContainer, \"keydown\", onKeyDown);\r\n            }\r\n            if (!self.config.inline && !self.config.static)\r\n                bind(window, \"resize\", debouncedResize);\r\n            if (window.ontouchstart !== undefined)\r\n                bind(window.document, \"touchstart\", documentClick);\r\n            else\r\n                bind(window.document, \"mousedown\", documentClick);\r\n            bind(window.document, \"focus\", documentClick, { capture: true });\r\n            if (self.config.clickOpens === true) {\r\n                bind(self._input, \"focus\", self.open);\r\n                bind(self._input, \"click\", self.open);\r\n            }\r\n            if (self.daysContainer !== undefined) {\r\n                bind(self.monthNav, \"click\", onMonthNavClick);\r\n                bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\r\n                bind(self.daysContainer, \"click\", selectDate);\r\n            }\r\n            if (self.timeContainer !== undefined &&\r\n                self.minuteElement !== undefined &&\r\n                self.hourElement !== undefined) {\r\n                var selText = function (e) {\r\n                    return getEventTarget(e).select();\r\n                };\r\n                bind(self.timeContainer, [\"increment\"], updateTime);\r\n                bind(self.timeContainer, \"blur\", updateTime, { capture: true });\r\n                bind(self.timeContainer, \"click\", timeIncrement);\r\n                bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\r\n                if (self.secondElement !== undefined)\r\n                    bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\r\n                if (self.amPM !== undefined) {\r\n                    bind(self.amPM, \"click\", function (e) {\r\n                        updateTime(e);\r\n                    });\r\n                }\r\n            }\r\n            if (self.config.allowInput) {\r\n                bind(self._input, \"blur\", onBlur);\r\n            }\r\n        }\r\n        /**\r\n         * Set the calendar view to a particular date.\r\n         * @param {Date} jumpDate the date to set the view to\r\n         * @param {boolean} triggerChange if change events should be triggered\r\n         */\r\n        function jumpToDate(jumpDate, triggerChange) {\r\n            var jumpTo = jumpDate !== undefined\r\n                ? self.parseDate(jumpDate)\r\n                : self.latestSelectedDateObj ||\r\n                    (self.config.minDate && self.config.minDate > self.now\r\n                        ? self.config.minDate\r\n                        : self.config.maxDate && self.config.maxDate < self.now\r\n                            ? self.config.maxDate\r\n                            : self.now);\r\n            var oldYear = self.currentYear;\r\n            var oldMonth = self.currentMonth;\r\n            try {\r\n                if (jumpTo !== undefined) {\r\n                    self.currentYear = jumpTo.getFullYear();\r\n                    self.currentMonth = jumpTo.getMonth();\r\n                }\r\n            }\r\n            catch (e) {\r\n                /* istanbul ignore next */\r\n                e.message = \"Invalid date supplied: \" + jumpTo;\r\n                self.config.errorHandler(e);\r\n            }\r\n            if (triggerChange && self.currentYear !== oldYear) {\r\n                triggerEvent(\"onYearChange\");\r\n                buildMonthSwitch();\r\n            }\r\n            if (triggerChange &&\r\n                (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\r\n                triggerEvent(\"onMonthChange\");\r\n            }\r\n            self.redraw();\r\n        }\r\n        /**\r\n         * The up/down arrow handler for time inputs\r\n         * @param {Event} e the click event\r\n         */\r\n        function timeIncrement(e) {\r\n            var eventTarget = getEventTarget(e);\r\n            if (~eventTarget.className.indexOf(\"arrow\"))\r\n                incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\r\n        }\r\n        /**\r\n         * Increments/decrements the value of input associ-\r\n         * ated with the up/down arrow by dispatching an\r\n         * \"increment\" event on the input.\r\n         *\r\n         * @param {Event} e the click event\r\n         * @param {Number} delta the diff (usually 1 or -1)\r\n         * @param {Element} inputElem the input element\r\n         */\r\n        function incrementNumInput(e, delta, inputElem) {\r\n            var target = e && getEventTarget(e);\r\n            var input = inputElem ||\r\n                (target && target.parentNode && target.parentNode.firstChild);\r\n            var event = createEvent(\"increment\");\r\n            event.delta = delta;\r\n            input && input.dispatchEvent(event);\r\n        }\r\n        function build() {\r\n            var fragment = window.document.createDocumentFragment();\r\n            self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\r\n            self.calendarContainer.tabIndex = -1;\r\n            if (!self.config.noCalendar) {\r\n                fragment.appendChild(buildMonthNav());\r\n                self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\r\n                if (self.config.weekNumbers) {\r\n                    var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\r\n                    self.innerContainer.appendChild(weekWrapper);\r\n                    self.weekNumbers = weekNumbers;\r\n                    self.weekWrapper = weekWrapper;\r\n                }\r\n                self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\r\n                self.rContainer.appendChild(buildWeekdays());\r\n                if (!self.daysContainer) {\r\n                    self.daysContainer = createElement(\"div\", \"flatpickr-days\");\r\n                    self.daysContainer.tabIndex = -1;\r\n                }\r\n                buildDays();\r\n                self.rContainer.appendChild(self.daysContainer);\r\n                self.innerContainer.appendChild(self.rContainer);\r\n                fragment.appendChild(self.innerContainer);\r\n            }\r\n            if (self.config.enableTime) {\r\n                fragment.appendChild(buildTime());\r\n            }\r\n            toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\r\n            toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\r\n            toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\r\n            self.calendarContainer.appendChild(fragment);\r\n            var customAppend = self.config.appendTo !== undefined &&\r\n                self.config.appendTo.nodeType !== undefined;\r\n            if (self.config.inline || self.config.static) {\r\n                self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\r\n                if (self.config.inline) {\r\n                    if (!customAppend && self.element.parentNode)\r\n                        self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\r\n                    else if (self.config.appendTo !== undefined)\r\n                        self.config.appendTo.appendChild(self.calendarContainer);\r\n                }\r\n                if (self.config.static) {\r\n                    var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\r\n                    if (self.element.parentNode)\r\n                        self.element.parentNode.insertBefore(wrapper, self.element);\r\n                    wrapper.appendChild(self.element);\r\n                    if (self.altInput)\r\n                        wrapper.appendChild(self.altInput);\r\n                    wrapper.appendChild(self.calendarContainer);\r\n                }\r\n            }\r\n            if (!self.config.static && !self.config.inline)\r\n                (self.config.appendTo !== undefined\r\n                    ? self.config.appendTo\r\n                    : window.document.body).appendChild(self.calendarContainer);\r\n        }\r\n        function createDay(className, date, _dayNumber, i) {\r\n            var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", className, date.getDate().toString());\r\n            dayElement.dateObj = date;\r\n            dayElement.$i = i;\r\n            dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\r\n            if (className.indexOf(\"hidden\") === -1 &&\r\n                compareDates(date, self.now) === 0) {\r\n                self.todayDateElem = dayElement;\r\n                dayElement.classList.add(\"today\");\r\n                dayElement.setAttribute(\"aria-current\", \"date\");\r\n            }\r\n            if (dateIsEnabled) {\r\n                dayElement.tabIndex = -1;\r\n                if (isDateSelected(date)) {\r\n                    dayElement.classList.add(\"selected\");\r\n                    self.selectedDateElem = dayElement;\r\n                    if (self.config.mode === \"range\") {\r\n                        toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\r\n                            compareDates(date, self.selectedDates[0], true) === 0);\r\n                        toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\r\n                            compareDates(date, self.selectedDates[1], true) === 0);\r\n                        if (className === \"nextMonthDay\")\r\n                            dayElement.classList.add(\"inRange\");\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                dayElement.classList.add(\"flatpickr-disabled\");\r\n            }\r\n            if (self.config.mode === \"range\") {\r\n                if (isDateInRange(date) && !isDateSelected(date))\r\n                    dayElement.classList.add(\"inRange\");\r\n            }\r\n            if (self.weekNumbers &&\r\n                self.config.showMonths === 1 &&\r\n                className !== \"prevMonthDay\" &&\r\n                i % 7 === 6) {\r\n                self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\r\n            }\r\n            triggerEvent(\"onDayCreate\", dayElement);\r\n            return dayElement;\r\n        }\r\n        function focusOnDayElem(targetNode) {\r\n            targetNode.focus();\r\n            if (self.config.mode === \"range\")\r\n                onMouseOver(targetNode);\r\n        }\r\n        function getFirstAvailableDay(delta) {\r\n            var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\r\n            var endMonth = delta > 0 ? self.config.showMonths : -1;\r\n            for (var m = startMonth; m != endMonth; m += delta) {\r\n                var month = self.daysContainer.children[m];\r\n                var startIndex = delta > 0 ? 0 : month.children.length - 1;\r\n                var endIndex = delta > 0 ? month.children.length : -1;\r\n                for (var i = startIndex; i != endIndex; i += delta) {\r\n                    var c = month.children[i];\r\n                    if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\r\n                        return c;\r\n                }\r\n            }\r\n            return undefined;\r\n        }\r\n        function getNextAvailableDay(current, delta) {\r\n            var givenMonth = current.className.indexOf(\"Month\") === -1\r\n                ? current.dateObj.getMonth()\r\n                : self.currentMonth;\r\n            var endMonth = delta > 0 ? self.config.showMonths : -1;\r\n            var loopDelta = delta > 0 ? 1 : -1;\r\n            for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\r\n                var month = self.daysContainer.children[m];\r\n                var startIndex = givenMonth - self.currentMonth === m\r\n                    ? current.$i + delta\r\n                    : delta < 0\r\n                        ? month.children.length - 1\r\n                        : 0;\r\n                var numMonthDays = month.children.length;\r\n                for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\r\n                    var c = month.children[i];\r\n                    if (c.className.indexOf(\"hidden\") === -1 &&\r\n                        isEnabled(c.dateObj) &&\r\n                        Math.abs(current.$i - i) >= Math.abs(delta))\r\n                        return focusOnDayElem(c);\r\n                }\r\n            }\r\n            self.changeMonth(loopDelta);\r\n            focusOnDay(getFirstAvailableDay(loopDelta), 0);\r\n            return undefined;\r\n        }\r\n        function focusOnDay(current, offset) {\r\n            var activeElement = getClosestActiveElement();\r\n            var dayFocused = isInView(activeElement || document.body);\r\n            var startElem = current !== undefined\r\n                ? current\r\n                : dayFocused\r\n                    ? activeElement\r\n                    : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\r\n                        ? self.selectedDateElem\r\n                        : self.todayDateElem !== undefined && isInView(self.todayDateElem)\r\n                            ? self.todayDateElem\r\n                            : getFirstAvailableDay(offset > 0 ? 1 : -1);\r\n            if (startElem === undefined) {\r\n                self._input.focus();\r\n            }\r\n            else if (!dayFocused) {\r\n                focusOnDayElem(startElem);\r\n            }\r\n            else {\r\n                getNextAvailableDay(startElem, offset);\r\n            }\r\n        }\r\n        function buildMonthDays(year, month) {\r\n            var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\r\n            var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\r\n            var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\r\n            var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\r\n            // prepend days from the ending of previous month\r\n            for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\r\n                days.appendChild(createDay(\"flatpickr-day \" + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\r\n            }\r\n            // Start at 1 since there is no 0th day\r\n            for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\r\n                days.appendChild(createDay(\"flatpickr-day\", new Date(year, month, dayNumber), dayNumber, dayIndex));\r\n            }\r\n            // append days from the next month\r\n            for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\r\n                (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\r\n                days.appendChild(createDay(\"flatpickr-day \" + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\r\n            }\r\n            //updateNavigationCurrentMonth();\r\n            var dayContainer = createElement(\"div\", \"dayContainer\");\r\n            dayContainer.appendChild(days);\r\n            return dayContainer;\r\n        }\r\n        function buildDays() {\r\n            if (self.daysContainer === undefined) {\r\n                return;\r\n            }\r\n            clearNode(self.daysContainer);\r\n            // TODO: week numbers for each month\r\n            if (self.weekNumbers)\r\n                clearNode(self.weekNumbers);\r\n            var frag = document.createDocumentFragment();\r\n            for (var i = 0; i < self.config.showMonths; i++) {\r\n                var d = new Date(self.currentYear, self.currentMonth, 1);\r\n                d.setMonth(self.currentMonth + i);\r\n                frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\r\n            }\r\n            self.daysContainer.appendChild(frag);\r\n            self.days = self.daysContainer.firstChild;\r\n            if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\r\n                onMouseOver();\r\n            }\r\n        }\r\n        function buildMonthSwitch() {\r\n            if (self.config.showMonths > 1 ||\r\n                self.config.monthSelectorType !== \"dropdown\")\r\n                return;\r\n            var shouldBuildMonth = function (month) {\r\n                if (self.config.minDate !== undefined &&\r\n                    self.currentYear === self.config.minDate.getFullYear() &&\r\n                    month < self.config.minDate.getMonth()) {\r\n                    return false;\r\n                }\r\n                return !(self.config.maxDate !== undefined &&\r\n                    self.currentYear === self.config.maxDate.getFullYear() &&\r\n                    month > self.config.maxDate.getMonth());\r\n            };\r\n            self.monthsDropdownContainer.tabIndex = -1;\r\n            self.monthsDropdownContainer.innerHTML = \"\";\r\n            for (var i = 0; i < 12; i++) {\r\n                if (!shouldBuildMonth(i))\r\n                    continue;\r\n                var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\r\n                month.value = new Date(self.currentYear, i).getMonth().toString();\r\n                month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\r\n                month.tabIndex = -1;\r\n                if (self.currentMonth === i) {\r\n                    month.selected = true;\r\n                }\r\n                self.monthsDropdownContainer.appendChild(month);\r\n            }\r\n        }\r\n        function buildMonth() {\r\n            var container = createElement(\"div\", \"flatpickr-month\");\r\n            var monthNavFragment = window.document.createDocumentFragment();\r\n            var monthElement;\r\n            if (self.config.showMonths > 1 ||\r\n                self.config.monthSelectorType === \"static\") {\r\n                monthElement = createElement(\"span\", \"cur-month\");\r\n            }\r\n            else {\r\n                self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\r\n                self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\r\n                bind(self.monthsDropdownContainer, \"change\", function (e) {\r\n                    var target = getEventTarget(e);\r\n                    var selectedMonth = parseInt(target.value, 10);\r\n                    self.changeMonth(selectedMonth - self.currentMonth);\r\n                    triggerEvent(\"onMonthChange\");\r\n                });\r\n                buildMonthSwitch();\r\n                monthElement = self.monthsDropdownContainer;\r\n            }\r\n            var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\r\n            var yearElement = yearInput.getElementsByTagName(\"input\")[0];\r\n            yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\r\n            if (self.config.minDate) {\r\n                yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\r\n            }\r\n            if (self.config.maxDate) {\r\n                yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\r\n                yearElement.disabled =\r\n                    !!self.config.minDate &&\r\n                        self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\r\n            }\r\n            var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\r\n            currentMonth.appendChild(monthElement);\r\n            currentMonth.appendChild(yearInput);\r\n            monthNavFragment.appendChild(currentMonth);\r\n            container.appendChild(monthNavFragment);\r\n            return {\r\n                container: container,\r\n                yearElement: yearElement,\r\n                monthElement: monthElement,\r\n            };\r\n        }\r\n        function buildMonths() {\r\n            clearNode(self.monthNav);\r\n            self.monthNav.appendChild(self.prevMonthNav);\r\n            if (self.config.showMonths) {\r\n                self.yearElements = [];\r\n                self.monthElements = [];\r\n            }\r\n            for (var m = self.config.showMonths; m--;) {\r\n                var month = buildMonth();\r\n                self.yearElements.push(month.yearElement);\r\n                self.monthElements.push(month.monthElement);\r\n                self.monthNav.appendChild(month.container);\r\n            }\r\n            self.monthNav.appendChild(self.nextMonthNav);\r\n        }\r\n        function buildMonthNav() {\r\n            self.monthNav = createElement(\"div\", \"flatpickr-months\");\r\n            self.yearElements = [];\r\n            self.monthElements = [];\r\n            self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\r\n            self.prevMonthNav.innerHTML = self.config.prevArrow;\r\n            self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\r\n            self.nextMonthNav.innerHTML = self.config.nextArrow;\r\n            buildMonths();\r\n            Object.defineProperty(self, \"_hidePrevMonthArrow\", {\r\n                get: function () { return self.__hidePrevMonthArrow; },\r\n                set: function (bool) {\r\n                    if (self.__hidePrevMonthArrow !== bool) {\r\n                        toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\r\n                        self.__hidePrevMonthArrow = bool;\r\n                    }\r\n                },\r\n            });\r\n            Object.defineProperty(self, \"_hideNextMonthArrow\", {\r\n                get: function () { return self.__hideNextMonthArrow; },\r\n                set: function (bool) {\r\n                    if (self.__hideNextMonthArrow !== bool) {\r\n                        toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\r\n                        self.__hideNextMonthArrow = bool;\r\n                    }\r\n                },\r\n            });\r\n            self.currentYearElement = self.yearElements[0];\r\n            updateNavigationCurrentMonth();\r\n            return self.monthNav;\r\n        }\r\n        function buildTime() {\r\n            self.calendarContainer.classList.add(\"hasTime\");\r\n            if (self.config.noCalendar)\r\n                self.calendarContainer.classList.add(\"noCalendar\");\r\n            var defaults = getDefaultHours(self.config);\r\n            self.timeContainer = createElement(\"div\", \"flatpickr-time\");\r\n            self.timeContainer.tabIndex = -1;\r\n            var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\r\n            var hourInput = createNumberInput(\"flatpickr-hour\", {\r\n                \"aria-label\": self.l10n.hourAriaLabel,\r\n            });\r\n            self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\r\n            var minuteInput = createNumberInput(\"flatpickr-minute\", {\r\n                \"aria-label\": self.l10n.minuteAriaLabel,\r\n            });\r\n            self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\r\n            self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\r\n            self.hourElement.value = pad(self.latestSelectedDateObj\r\n                ? self.latestSelectedDateObj.getHours()\r\n                : self.config.time_24hr\r\n                    ? defaults.hours\r\n                    : military2ampm(defaults.hours));\r\n            self.minuteElement.value = pad(self.latestSelectedDateObj\r\n                ? self.latestSelectedDateObj.getMinutes()\r\n                : defaults.minutes);\r\n            self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\r\n            self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\r\n            self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\r\n            self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\r\n            self.hourElement.setAttribute(\"maxlength\", \"2\");\r\n            self.minuteElement.setAttribute(\"min\", \"0\");\r\n            self.minuteElement.setAttribute(\"max\", \"59\");\r\n            self.minuteElement.setAttribute(\"maxlength\", \"2\");\r\n            self.timeContainer.appendChild(hourInput);\r\n            self.timeContainer.appendChild(separator);\r\n            self.timeContainer.appendChild(minuteInput);\r\n            if (self.config.time_24hr)\r\n                self.timeContainer.classList.add(\"time24hr\");\r\n            if (self.config.enableSeconds) {\r\n                self.timeContainer.classList.add(\"hasSeconds\");\r\n                var secondInput = createNumberInput(\"flatpickr-second\");\r\n                self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\r\n                self.secondElement.value = pad(self.latestSelectedDateObj\r\n                    ? self.latestSelectedDateObj.getSeconds()\r\n                    : defaults.seconds);\r\n                self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\r\n                self.secondElement.setAttribute(\"min\", \"0\");\r\n                self.secondElement.setAttribute(\"max\", \"59\");\r\n                self.secondElement.setAttribute(\"maxlength\", \"2\");\r\n                self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\r\n                self.timeContainer.appendChild(secondInput);\r\n            }\r\n            if (!self.config.time_24hr) {\r\n                // add self.amPM if appropriate\r\n                self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\r\n                    ? self.hourElement.value\r\n                    : self.config.defaultHour) > 11)]);\r\n                self.amPM.title = self.l10n.toggleTitle;\r\n                self.amPM.tabIndex = -1;\r\n                self.timeContainer.appendChild(self.amPM);\r\n            }\r\n            return self.timeContainer;\r\n        }\r\n        function buildWeekdays() {\r\n            if (!self.weekdayContainer)\r\n                self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\r\n            else\r\n                clearNode(self.weekdayContainer);\r\n            for (var i = self.config.showMonths; i--;) {\r\n                var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\r\n                self.weekdayContainer.appendChild(container);\r\n            }\r\n            updateWeekdays();\r\n            return self.weekdayContainer;\r\n        }\r\n        function updateWeekdays() {\r\n            if (!self.weekdayContainer) {\r\n                return;\r\n            }\r\n            var firstDayOfWeek = self.l10n.firstDayOfWeek;\r\n            var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);\r\n            if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\r\n                weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));\r\n            }\r\n            for (var i = self.config.showMonths; i--;) {\r\n                self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\r\n            }\r\n        }\r\n        /* istanbul ignore next */\r\n        function buildWeeks() {\r\n            self.calendarContainer.classList.add(\"hasWeeks\");\r\n            var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\r\n            weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\r\n            var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\r\n            weekWrapper.appendChild(weekNumbers);\r\n            return {\r\n                weekWrapper: weekWrapper,\r\n                weekNumbers: weekNumbers,\r\n            };\r\n        }\r\n        function changeMonth(value, isOffset) {\r\n            if (isOffset === void 0) { isOffset = true; }\r\n            var delta = isOffset ? value : value - self.currentMonth;\r\n            if ((delta < 0 && self._hidePrevMonthArrow === true) ||\r\n                (delta > 0 && self._hideNextMonthArrow === true))\r\n                return;\r\n            self.currentMonth += delta;\r\n            if (self.currentMonth < 0 || self.currentMonth > 11) {\r\n                self.currentYear += self.currentMonth > 11 ? 1 : -1;\r\n                self.currentMonth = (self.currentMonth + 12) % 12;\r\n                triggerEvent(\"onYearChange\");\r\n                buildMonthSwitch();\r\n            }\r\n            buildDays();\r\n            triggerEvent(\"onMonthChange\");\r\n            updateNavigationCurrentMonth();\r\n        }\r\n        function clear(triggerChangeEvent, toInitial) {\r\n            if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\r\n            if (toInitial === void 0) { toInitial = true; }\r\n            self.input.value = \"\";\r\n            if (self.altInput !== undefined)\r\n                self.altInput.value = \"\";\r\n            if (self.mobileInput !== undefined)\r\n                self.mobileInput.value = \"\";\r\n            self.selectedDates = [];\r\n            self.latestSelectedDateObj = undefined;\r\n            if (toInitial === true) {\r\n                self.currentYear = self._initialDate.getFullYear();\r\n                self.currentMonth = self._initialDate.getMonth();\r\n            }\r\n            if (self.config.enableTime === true) {\r\n                var _a = getDefaultHours(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;\r\n                setHours(hours, minutes, seconds);\r\n            }\r\n            self.redraw();\r\n            if (triggerChangeEvent)\r\n                // triggerChangeEvent is true (default) or an Event\r\n                triggerEvent(\"onChange\");\r\n        }\r\n        function close() {\r\n            self.isOpen = false;\r\n            if (!self.isMobile) {\r\n                if (self.calendarContainer !== undefined) {\r\n                    self.calendarContainer.classList.remove(\"open\");\r\n                }\r\n                if (self._input !== undefined) {\r\n                    self._input.classList.remove(\"active\");\r\n                }\r\n            }\r\n            triggerEvent(\"onClose\");\r\n        }\r\n        function destroy() {\r\n            if (self.config !== undefined)\r\n                triggerEvent(\"onDestroy\");\r\n            for (var i = self._handlers.length; i--;) {\r\n                self._handlers[i].remove();\r\n            }\r\n            self._handlers = [];\r\n            if (self.mobileInput) {\r\n                if (self.mobileInput.parentNode)\r\n                    self.mobileInput.parentNode.removeChild(self.mobileInput);\r\n                self.mobileInput = undefined;\r\n            }\r\n            else if (self.calendarContainer && self.calendarContainer.parentNode) {\r\n                if (self.config.static && self.calendarContainer.parentNode) {\r\n                    var wrapper = self.calendarContainer.parentNode;\r\n                    wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\r\n                    if (wrapper.parentNode) {\r\n                        while (wrapper.firstChild)\r\n                            wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\r\n                        wrapper.parentNode.removeChild(wrapper);\r\n                    }\r\n                }\r\n                else\r\n                    self.calendarContainer.parentNode.removeChild(self.calendarContainer);\r\n            }\r\n            if (self.altInput) {\r\n                self.input.type = \"text\";\r\n                if (self.altInput.parentNode)\r\n                    self.altInput.parentNode.removeChild(self.altInput);\r\n                delete self.altInput;\r\n            }\r\n            if (self.input) {\r\n                self.input.type = self.input._type;\r\n                self.input.classList.remove(\"flatpickr-input\");\r\n                self.input.removeAttribute(\"readonly\");\r\n            }\r\n            [\r\n                \"_showTimeInput\",\r\n                \"latestSelectedDateObj\",\r\n                \"_hideNextMonthArrow\",\r\n                \"_hidePrevMonthArrow\",\r\n                \"__hideNextMonthArrow\",\r\n                \"__hidePrevMonthArrow\",\r\n                \"isMobile\",\r\n                \"isOpen\",\r\n                \"selectedDateElem\",\r\n                \"minDateHasTime\",\r\n                \"maxDateHasTime\",\r\n                \"days\",\r\n                \"daysContainer\",\r\n                \"_input\",\r\n                \"_positionElement\",\r\n                \"innerContainer\",\r\n                \"rContainer\",\r\n                \"monthNav\",\r\n                \"todayDateElem\",\r\n                \"calendarContainer\",\r\n                \"weekdayContainer\",\r\n                \"prevMonthNav\",\r\n                \"nextMonthNav\",\r\n                \"monthsDropdownContainer\",\r\n                \"currentMonthElement\",\r\n                \"currentYearElement\",\r\n                \"navigationCurrentMonth\",\r\n                \"selectedDateElem\",\r\n                \"config\",\r\n            ].forEach(function (k) {\r\n                try {\r\n                    delete self[k];\r\n                }\r\n                catch (_) { }\r\n            });\r\n        }\r\n        function isCalendarElem(elem) {\r\n            return self.calendarContainer.contains(elem);\r\n        }\r\n        function documentClick(e) {\r\n            if (self.isOpen && !self.config.inline) {\r\n                var eventTarget_1 = getEventTarget(e);\r\n                var isCalendarElement = isCalendarElem(eventTarget_1);\r\n                var isInput = eventTarget_1 === self.input ||\r\n                    eventTarget_1 === self.altInput ||\r\n                    self.element.contains(eventTarget_1) ||\r\n                    // web components\r\n                    // e.path is not present in all browsers. circumventing typechecks\r\n                    (e.path &&\r\n                        e.path.indexOf &&\r\n                        (~e.path.indexOf(self.input) ||\r\n                            ~e.path.indexOf(self.altInput)));\r\n                var lostFocus = !isInput &&\r\n                    !isCalendarElement &&\r\n                    !isCalendarElem(e.relatedTarget);\r\n                var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\r\n                    return elem.contains(eventTarget_1);\r\n                });\r\n                if (lostFocus && isIgnored) {\r\n                    if (self.config.allowInput) {\r\n                        self.setDate(self._input.value, false, self.config.altInput\r\n                            ? self.config.altFormat\r\n                            : self.config.dateFormat);\r\n                    }\r\n                    if (self.timeContainer !== undefined &&\r\n                        self.minuteElement !== undefined &&\r\n                        self.hourElement !== undefined &&\r\n                        self.input.value !== \"\" &&\r\n                        self.input.value !== undefined) {\r\n                        updateTime();\r\n                    }\r\n                    self.close();\r\n                    if (self.config &&\r\n                        self.config.mode === \"range\" &&\r\n                        self.selectedDates.length === 1)\r\n                        self.clear(false);\r\n                }\r\n            }\r\n        }\r\n        function changeYear(newYear) {\r\n            if (!newYear ||\r\n                (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\r\n                (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\r\n                return;\r\n            var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\r\n            self.currentYear = newYearNum || self.currentYear;\r\n            if (self.config.maxDate &&\r\n                self.currentYear === self.config.maxDate.getFullYear()) {\r\n                self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\r\n            }\r\n            else if (self.config.minDate &&\r\n                self.currentYear === self.config.minDate.getFullYear()) {\r\n                self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\r\n            }\r\n            if (isNewYear) {\r\n                self.redraw();\r\n                triggerEvent(\"onYearChange\");\r\n                buildMonthSwitch();\r\n            }\r\n        }\r\n        function isEnabled(date, timeless) {\r\n            var _a;\r\n            if (timeless === void 0) { timeless = true; }\r\n            var dateToCheck = self.parseDate(date, undefined, timeless); // timeless\r\n            if ((self.config.minDate &&\r\n                dateToCheck &&\r\n                compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\r\n                (self.config.maxDate &&\r\n                    dateToCheck &&\r\n                    compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\r\n                return false;\r\n            if (!self.config.enable && self.config.disable.length === 0)\r\n                return true;\r\n            if (dateToCheck === undefined)\r\n                return false;\r\n            var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\r\n            for (var i = 0, d = void 0; i < array.length; i++) {\r\n                d = array[i];\r\n                if (typeof d === \"function\" &&\r\n                    d(dateToCheck) // disabled by function\r\n                )\r\n                    return bool;\r\n                else if (d instanceof Date &&\r\n                    dateToCheck !== undefined &&\r\n                    d.getTime() === dateToCheck.getTime())\r\n                    // disabled by date\r\n                    return bool;\r\n                else if (typeof d === \"string\") {\r\n                    // disabled by date string\r\n                    var parsed = self.parseDate(d, undefined, true);\r\n                    return parsed && parsed.getTime() === dateToCheck.getTime()\r\n                        ? bool\r\n                        : !bool;\r\n                }\r\n                else if (\r\n                // disabled by range\r\n                typeof d === \"object\" &&\r\n                    dateToCheck !== undefined &&\r\n                    d.from &&\r\n                    d.to &&\r\n                    dateToCheck.getTime() >= d.from.getTime() &&\r\n                    dateToCheck.getTime() <= d.to.getTime())\r\n                    return bool;\r\n            }\r\n            return !bool;\r\n        }\r\n        function isInView(elem) {\r\n            if (self.daysContainer !== undefined)\r\n                return (elem.className.indexOf(\"hidden\") === -1 &&\r\n                    elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\r\n                    self.daysContainer.contains(elem));\r\n            return false;\r\n        }\r\n        function onBlur(e) {\r\n            var isInput = e.target === self._input;\r\n            var valueChanged = self._input.value.trimEnd() !== getDateStr();\r\n            if (isInput &&\r\n                valueChanged &&\r\n                !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\r\n                self.setDate(self._input.value, true, e.target === self.altInput\r\n                    ? self.config.altFormat\r\n                    : self.config.dateFormat);\r\n            }\r\n        }\r\n        function onKeyDown(e) {\r\n            // e.key                      e.keyCode\r\n            // \"Backspace\"                        8\r\n            // \"Tab\"                              9\r\n            // \"Enter\"                           13\r\n            // \"Escape\"     (IE \"Esc\")           27\r\n            // \"ArrowLeft\"  (IE \"Left\")          37\r\n            // \"ArrowUp\"    (IE \"Up\")            38\r\n            // \"ArrowRight\" (IE \"Right\")         39\r\n            // \"ArrowDown\"  (IE \"Down\")          40\r\n            // \"Delete\"     (IE \"Del\")           46\r\n            var eventTarget = getEventTarget(e);\r\n            var isInput = self.config.wrap\r\n                ? element.contains(eventTarget)\r\n                : eventTarget === self._input;\r\n            var allowInput = self.config.allowInput;\r\n            var allowKeydown = self.isOpen && (!allowInput || !isInput);\r\n            var allowInlineKeydown = self.config.inline && isInput && !allowInput;\r\n            if (e.keyCode === 13 && isInput) {\r\n                if (allowInput) {\r\n                    self.setDate(self._input.value, true, eventTarget === self.altInput\r\n                        ? self.config.altFormat\r\n                        : self.config.dateFormat);\r\n                    self.close();\r\n                    return eventTarget.blur();\r\n                }\r\n                else {\r\n                    self.open();\r\n                }\r\n            }\r\n            else if (isCalendarElem(eventTarget) ||\r\n                allowKeydown ||\r\n                allowInlineKeydown) {\r\n                var isTimeObj = !!self.timeContainer &&\r\n                    self.timeContainer.contains(eventTarget);\r\n                switch (e.keyCode) {\r\n                    case 13:\r\n                        if (isTimeObj) {\r\n                            e.preventDefault();\r\n                            updateTime();\r\n                            focusAndClose();\r\n                        }\r\n                        else\r\n                            selectDate(e);\r\n                        break;\r\n                    case 27: // escape\r\n                        e.preventDefault();\r\n                        focusAndClose();\r\n                        break;\r\n                    case 8:\r\n                    case 46:\r\n                        if (isInput && !self.config.allowInput) {\r\n                            e.preventDefault();\r\n                            self.clear();\r\n                        }\r\n                        break;\r\n                    case 37:\r\n                    case 39:\r\n                        if (!isTimeObj && !isInput) {\r\n                            e.preventDefault();\r\n                            var activeElement = getClosestActiveElement();\r\n                            if (self.daysContainer !== undefined &&\r\n                                (allowInput === false ||\r\n                                    (activeElement && isInView(activeElement)))) {\r\n                                var delta_1 = e.keyCode === 39 ? 1 : -1;\r\n                                if (!e.ctrlKey)\r\n                                    focusOnDay(undefined, delta_1);\r\n                                else {\r\n                                    e.stopPropagation();\r\n                                    changeMonth(delta_1);\r\n                                    focusOnDay(getFirstAvailableDay(1), 0);\r\n                                }\r\n                            }\r\n                        }\r\n                        else if (self.hourElement)\r\n                            self.hourElement.focus();\r\n                        break;\r\n                    case 38:\r\n                    case 40:\r\n                        e.preventDefault();\r\n                        var delta = e.keyCode === 40 ? 1 : -1;\r\n                        if ((self.daysContainer &&\r\n                            eventTarget.$i !== undefined) ||\r\n                            eventTarget === self.input ||\r\n                            eventTarget === self.altInput) {\r\n                            if (e.ctrlKey) {\r\n                                e.stopPropagation();\r\n                                changeYear(self.currentYear - delta);\r\n                                focusOnDay(getFirstAvailableDay(1), 0);\r\n                            }\r\n                            else if (!isTimeObj)\r\n                                focusOnDay(undefined, delta * 7);\r\n                        }\r\n                        else if (eventTarget === self.currentYearElement) {\r\n                            changeYear(self.currentYear - delta);\r\n                        }\r\n                        else if (self.config.enableTime) {\r\n                            if (!isTimeObj && self.hourElement)\r\n                                self.hourElement.focus();\r\n                            updateTime(e);\r\n                            self._debouncedChange();\r\n                        }\r\n                        break;\r\n                    case 9:\r\n                        if (isTimeObj) {\r\n                            var elems = [\r\n                                self.hourElement,\r\n                                self.minuteElement,\r\n                                self.secondElement,\r\n                                self.amPM,\r\n                            ]\r\n                                .concat(self.pluginElements)\r\n                                .filter(function (x) { return x; });\r\n                            var i = elems.indexOf(eventTarget);\r\n                            if (i !== -1) {\r\n                                var target = elems[i + (e.shiftKey ? -1 : 1)];\r\n                                e.preventDefault();\r\n                                (target || self._input).focus();\r\n                            }\r\n                        }\r\n                        else if (!self.config.noCalendar &&\r\n                            self.daysContainer &&\r\n                            self.daysContainer.contains(eventTarget) &&\r\n                            e.shiftKey) {\r\n                            e.preventDefault();\r\n                            self._input.focus();\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            if (self.amPM !== undefined && eventTarget === self.amPM) {\r\n                switch (e.key) {\r\n                    case self.l10n.amPM[0].charAt(0):\r\n                    case self.l10n.amPM[0].charAt(0).toLowerCase():\r\n                        self.amPM.textContent = self.l10n.amPM[0];\r\n                        setHoursFromInputs();\r\n                        updateValue();\r\n                        break;\r\n                    case self.l10n.amPM[1].charAt(0):\r\n                    case self.l10n.amPM[1].charAt(0).toLowerCase():\r\n                        self.amPM.textContent = self.l10n.amPM[1];\r\n                        setHoursFromInputs();\r\n                        updateValue();\r\n                        break;\r\n                }\r\n            }\r\n            if (isInput || isCalendarElem(eventTarget)) {\r\n                triggerEvent(\"onKeyDown\", e);\r\n            }\r\n        }\r\n        function onMouseOver(elem, cellClass) {\r\n            if (cellClass === void 0) { cellClass = \"flatpickr-day\"; }\r\n            if (self.selectedDates.length !== 1 ||\r\n                (elem &&\r\n                    (!elem.classList.contains(cellClass) ||\r\n                        elem.classList.contains(\"flatpickr-disabled\"))))\r\n                return;\r\n            var hoverDate = elem\r\n                ? elem.dateObj.getTime()\r\n                : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\r\n            var containsDisabled = false;\r\n            var minRange = 0, maxRange = 0;\r\n            for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\r\n                if (!isEnabled(new Date(t), true)) {\r\n                    containsDisabled =\r\n                        containsDisabled || (t > rangeStartDate && t < rangeEndDate);\r\n                    if (t < initialDate && (!minRange || t > minRange))\r\n                        minRange = t;\r\n                    else if (t > initialDate && (!maxRange || t < maxRange))\r\n                        maxRange = t;\r\n                }\r\n            }\r\n            var hoverableCells = Array.from(self.rContainer.querySelectorAll(\"*:nth-child(-n+\" + self.config.showMonths + \") > .\" + cellClass));\r\n            hoverableCells.forEach(function (dayElem) {\r\n                var date = dayElem.dateObj;\r\n                var timestamp = date.getTime();\r\n                var outOfRange = (minRange > 0 && timestamp < minRange) ||\r\n                    (maxRange > 0 && timestamp > maxRange);\r\n                if (outOfRange) {\r\n                    dayElem.classList.add(\"notAllowed\");\r\n                    [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\r\n                        dayElem.classList.remove(c);\r\n                    });\r\n                    return;\r\n                }\r\n                else if (containsDisabled && !outOfRange)\r\n                    return;\r\n                [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\r\n                    dayElem.classList.remove(c);\r\n                });\r\n                if (elem !== undefined) {\r\n                    elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\r\n                        ? \"startRange\"\r\n                        : \"endRange\");\r\n                    if (initialDate < hoverDate && timestamp === initialDate)\r\n                        dayElem.classList.add(\"startRange\");\r\n                    else if (initialDate > hoverDate && timestamp === initialDate)\r\n                        dayElem.classList.add(\"endRange\");\r\n                    if (timestamp >= minRange &&\r\n                        (maxRange === 0 || timestamp <= maxRange) &&\r\n                        isBetween(timestamp, initialDate, hoverDate))\r\n                        dayElem.classList.add(\"inRange\");\r\n                }\r\n            });\r\n        }\r\n        function onResize() {\r\n            if (self.isOpen && !self.config.static && !self.config.inline)\r\n                positionCalendar();\r\n        }\r\n        function open(e, positionElement) {\r\n            if (positionElement === void 0) { positionElement = self._positionElement; }\r\n            if (self.isMobile === true) {\r\n                if (e) {\r\n                    e.preventDefault();\r\n                    var eventTarget = getEventTarget(e);\r\n                    if (eventTarget) {\r\n                        eventTarget.blur();\r\n                    }\r\n                }\r\n                if (self.mobileInput !== undefined) {\r\n                    self.mobileInput.focus();\r\n                    self.mobileInput.click();\r\n                }\r\n                triggerEvent(\"onOpen\");\r\n                return;\r\n            }\r\n            else if (self._input.disabled || self.config.inline) {\r\n                return;\r\n            }\r\n            var wasOpen = self.isOpen;\r\n            self.isOpen = true;\r\n            if (!wasOpen) {\r\n                self.calendarContainer.classList.add(\"open\");\r\n                self._input.classList.add(\"active\");\r\n                triggerEvent(\"onOpen\");\r\n                positionCalendar(positionElement);\r\n            }\r\n            if (self.config.enableTime === true && self.config.noCalendar === true) {\r\n                if (self.config.allowInput === false &&\r\n                    (e === undefined ||\r\n                        !self.timeContainer.contains(e.relatedTarget))) {\r\n                    setTimeout(function () { return self.hourElement.select(); }, 50);\r\n                }\r\n            }\r\n        }\r\n        function minMaxDateSetter(type) {\r\n            return function (date) {\r\n                var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\r\n                var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\r\n                if (dateObj !== undefined) {\r\n                    self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\r\n                        dateObj.getHours() > 0 ||\r\n                            dateObj.getMinutes() > 0 ||\r\n                            dateObj.getSeconds() > 0;\r\n                }\r\n                if (self.selectedDates) {\r\n                    self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\r\n                    if (!self.selectedDates.length && type === \"min\")\r\n                        setHoursFromDate(dateObj);\r\n                    updateValue();\r\n                }\r\n                if (self.daysContainer) {\r\n                    redraw();\r\n                    if (dateObj !== undefined)\r\n                        self.currentYearElement[type] = dateObj.getFullYear().toString();\r\n                    else\r\n                        self.currentYearElement.removeAttribute(type);\r\n                    self.currentYearElement.disabled =\r\n                        !!inverseDateObj &&\r\n                            dateObj !== undefined &&\r\n                            inverseDateObj.getFullYear() === dateObj.getFullYear();\r\n                }\r\n            };\r\n        }\r\n        function parseConfig() {\r\n            var boolOpts = [\r\n                \"wrap\",\r\n                \"weekNumbers\",\r\n                \"allowInput\",\r\n                \"allowInvalidPreload\",\r\n                \"clickOpens\",\r\n                \"time_24hr\",\r\n                \"enableTime\",\r\n                \"noCalendar\",\r\n                \"altInput\",\r\n                \"shorthandCurrentMonth\",\r\n                \"inline\",\r\n                \"static\",\r\n                \"enableSeconds\",\r\n                \"disableMobile\",\r\n            ];\r\n            var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\r\n            var formats = {};\r\n            self.config.parseDate = userConfig.parseDate;\r\n            self.config.formatDate = userConfig.formatDate;\r\n            Object.defineProperty(self.config, \"enable\", {\r\n                get: function () { return self.config._enable; },\r\n                set: function (dates) {\r\n                    self.config._enable = parseDateRules(dates);\r\n                },\r\n            });\r\n            Object.defineProperty(self.config, \"disable\", {\r\n                get: function () { return self.config._disable; },\r\n                set: function (dates) {\r\n                    self.config._disable = parseDateRules(dates);\r\n                },\r\n            });\r\n            var timeMode = userConfig.mode === \"time\";\r\n            if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\r\n                var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaults.dateFormat;\r\n                formats.dateFormat =\r\n                    userConfig.noCalendar || timeMode\r\n                        ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\r\n                        : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\r\n            }\r\n            if (userConfig.altInput &&\r\n                (userConfig.enableTime || timeMode) &&\r\n                !userConfig.altFormat) {\r\n                var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaults.altFormat;\r\n                formats.altFormat =\r\n                    userConfig.noCalendar || timeMode\r\n                        ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\r\n                        : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\r\n            }\r\n            Object.defineProperty(self.config, \"minDate\", {\r\n                get: function () { return self.config._minDate; },\r\n                set: minMaxDateSetter(\"min\"),\r\n            });\r\n            Object.defineProperty(self.config, \"maxDate\", {\r\n                get: function () { return self.config._maxDate; },\r\n                set: minMaxDateSetter(\"max\"),\r\n            });\r\n            var minMaxTimeSetter = function (type) { return function (val) {\r\n                self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\r\n            }; };\r\n            Object.defineProperty(self.config, \"minTime\", {\r\n                get: function () { return self.config._minTime; },\r\n                set: minMaxTimeSetter(\"min\"),\r\n            });\r\n            Object.defineProperty(self.config, \"maxTime\", {\r\n                get: function () { return self.config._maxTime; },\r\n                set: minMaxTimeSetter(\"max\"),\r\n            });\r\n            if (userConfig.mode === \"time\") {\r\n                self.config.noCalendar = true;\r\n                self.config.enableTime = true;\r\n            }\r\n            Object.assign(self.config, formats, userConfig);\r\n            for (var i = 0; i < boolOpts.length; i++)\r\n                // https://github.com/microsoft/TypeScript/issues/31663\r\n                self.config[boolOpts[i]] =\r\n                    self.config[boolOpts[i]] === true ||\r\n                        self.config[boolOpts[i]] === \"true\";\r\n            HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\r\n                self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\r\n            });\r\n            self.isMobile =\r\n                !self.config.disableMobile &&\r\n                    !self.config.inline &&\r\n                    self.config.mode === \"single\" &&\r\n                    !self.config.disable.length &&\r\n                    !self.config.enable &&\r\n                    !self.config.weekNumbers &&\r\n                    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n            for (var i = 0; i < self.config.plugins.length; i++) {\r\n                var pluginConf = self.config.plugins[i](self) || {};\r\n                for (var key in pluginConf) {\r\n                    if (HOOKS.indexOf(key) > -1) {\r\n                        self.config[key] = arrayify(pluginConf[key])\r\n                            .map(bindToInstance)\r\n                            .concat(self.config[key]);\r\n                    }\r\n                    else if (typeof userConfig[key] === \"undefined\")\r\n                        self.config[key] = pluginConf[key];\r\n                }\r\n            }\r\n            if (!userConfig.altInputClass) {\r\n                self.config.altInputClass =\r\n                    getInputElem().className + \" \" + self.config.altInputClass;\r\n            }\r\n            triggerEvent(\"onParseConfig\");\r\n        }\r\n        function getInputElem() {\r\n            return self.config.wrap\r\n                ? element.querySelector(\"[data-input]\")\r\n                : element;\r\n        }\r\n        function setupLocale() {\r\n            if (typeof self.config.locale !== \"object\" &&\r\n                typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\r\n                self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\r\n            self.l10n = __assign(__assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\r\n                ? self.config.locale\r\n                : self.config.locale !== \"default\"\r\n                    ? flatpickr.l10ns[self.config.locale]\r\n                    : undefined));\r\n            tokenRegex.D = \"(\" + self.l10n.weekdays.shorthand.join(\"|\") + \")\";\r\n            tokenRegex.l = \"(\" + self.l10n.weekdays.longhand.join(\"|\") + \")\";\r\n            tokenRegex.M = \"(\" + self.l10n.months.shorthand.join(\"|\") + \")\";\r\n            tokenRegex.F = \"(\" + self.l10n.months.longhand.join(\"|\") + \")\";\r\n            tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\r\n            var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\r\n            if (userConfig.time_24hr === undefined &&\r\n                flatpickr.defaultConfig.time_24hr === undefined) {\r\n                self.config.time_24hr = self.l10n.time_24hr;\r\n            }\r\n            self.formatDate = createDateFormatter(self);\r\n            self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\r\n        }\r\n        function positionCalendar(customPositionElement) {\r\n            if (typeof self.config.position === \"function\") {\r\n                return void self.config.position(self, customPositionElement);\r\n            }\r\n            if (self.calendarContainer === undefined)\r\n                return;\r\n            triggerEvent(\"onPreCalendarPosition\");\r\n            var positionElement = customPositionElement || self._positionElement;\r\n            var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\r\n                (configPosVertical !== \"below\" &&\r\n                    distanceFromBottom < calendarHeight &&\r\n                    inputBounds.top > calendarHeight);\r\n            var top = window.pageYOffset +\r\n                inputBounds.top +\r\n                (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\r\n            toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\r\n            toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\r\n            if (self.config.inline)\r\n                return;\r\n            var left = window.pageXOffset + inputBounds.left;\r\n            var isCenter = false;\r\n            var isRight = false;\r\n            if (configPosHorizontal === \"center\") {\r\n                left -= (calendarWidth - inputBounds.width) / 2;\r\n                isCenter = true;\r\n            }\r\n            else if (configPosHorizontal === \"right\") {\r\n                left -= calendarWidth - inputBounds.width;\r\n                isRight = true;\r\n            }\r\n            toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\r\n            toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\r\n            toggleClass(self.calendarContainer, \"arrowRight\", isRight);\r\n            var right = window.document.body.offsetWidth -\r\n                (window.pageXOffset + inputBounds.right);\r\n            var rightMost = left + calendarWidth > window.document.body.offsetWidth;\r\n            var centerMost = right + calendarWidth > window.document.body.offsetWidth;\r\n            toggleClass(self.calendarContainer, \"rightMost\", rightMost);\r\n            if (self.config.static)\r\n                return;\r\n            self.calendarContainer.style.top = top + \"px\";\r\n            if (!rightMost) {\r\n                self.calendarContainer.style.left = left + \"px\";\r\n                self.calendarContainer.style.right = \"auto\";\r\n            }\r\n            else if (!centerMost) {\r\n                self.calendarContainer.style.left = \"auto\";\r\n                self.calendarContainer.style.right = right + \"px\";\r\n            }\r\n            else {\r\n                var doc = getDocumentStyleSheet();\r\n                // some testing environments don't have css support\r\n                if (doc === undefined)\r\n                    return;\r\n                var bodyWidth = window.document.body.offsetWidth;\r\n                var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\r\n                var centerBefore = \".flatpickr-calendar.centerMost:before\";\r\n                var centerAfter = \".flatpickr-calendar.centerMost:after\";\r\n                var centerIndex = doc.cssRules.length;\r\n                var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\r\n                toggleClass(self.calendarContainer, \"rightMost\", false);\r\n                toggleClass(self.calendarContainer, \"centerMost\", true);\r\n                doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\r\n                self.calendarContainer.style.left = centerLeft + \"px\";\r\n                self.calendarContainer.style.right = \"auto\";\r\n            }\r\n        }\r\n        function getDocumentStyleSheet() {\r\n            var editableSheet = null;\r\n            for (var i = 0; i < document.styleSheets.length; i++) {\r\n                var sheet = document.styleSheets[i];\r\n                if (!sheet.cssRules)\r\n                    continue;\r\n                try {\r\n                    sheet.cssRules;\r\n                }\r\n                catch (err) {\r\n                    continue;\r\n                }\r\n                editableSheet = sheet;\r\n                break;\r\n            }\r\n            return editableSheet != null ? editableSheet : createStyleSheet();\r\n        }\r\n        function createStyleSheet() {\r\n            var style = document.createElement(\"style\");\r\n            document.head.appendChild(style);\r\n            return style.sheet;\r\n        }\r\n        function redraw() {\r\n            if (self.config.noCalendar || self.isMobile)\r\n                return;\r\n            buildMonthSwitch();\r\n            updateNavigationCurrentMonth();\r\n            buildDays();\r\n        }\r\n        function focusAndClose() {\r\n            self._input.focus();\r\n            if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\r\n                navigator.msMaxTouchPoints !== undefined) {\r\n                // hack - bugs in the way IE handles focus keeps the calendar open\r\n                setTimeout(self.close, 0);\r\n            }\r\n            else {\r\n                self.close();\r\n            }\r\n        }\r\n        function selectDate(e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            var isSelectable = function (day) {\r\n                return day.classList &&\r\n                    day.classList.contains(\"flatpickr-day\") &&\r\n                    !day.classList.contains(\"flatpickr-disabled\") &&\r\n                    !day.classList.contains(\"notAllowed\");\r\n            };\r\n            var t = findParent(getEventTarget(e), isSelectable);\r\n            if (t === undefined)\r\n                return;\r\n            var target = t;\r\n            var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\r\n            var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\r\n                selectedDate.getMonth() >\r\n                    self.currentMonth + self.config.showMonths - 1) &&\r\n                self.config.mode !== \"range\";\r\n            self.selectedDateElem = target;\r\n            if (self.config.mode === \"single\")\r\n                self.selectedDates = [selectedDate];\r\n            else if (self.config.mode === \"multiple\") {\r\n                var selectedIndex = isDateSelected(selectedDate);\r\n                if (selectedIndex)\r\n                    self.selectedDates.splice(parseInt(selectedIndex), 1);\r\n                else\r\n                    self.selectedDates.push(selectedDate);\r\n            }\r\n            else if (self.config.mode === \"range\") {\r\n                if (self.selectedDates.length === 2) {\r\n                    self.clear(false, false);\r\n                }\r\n                self.latestSelectedDateObj = selectedDate;\r\n                self.selectedDates.push(selectedDate);\r\n                // unless selecting same date twice, sort ascendingly\r\n                if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\r\n                    self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\r\n            }\r\n            setHoursFromInputs();\r\n            if (shouldChangeMonth) {\r\n                var isNewYear = self.currentYear !== selectedDate.getFullYear();\r\n                self.currentYear = selectedDate.getFullYear();\r\n                self.currentMonth = selectedDate.getMonth();\r\n                if (isNewYear) {\r\n                    triggerEvent(\"onYearChange\");\r\n                    buildMonthSwitch();\r\n                }\r\n                triggerEvent(\"onMonthChange\");\r\n            }\r\n            updateNavigationCurrentMonth();\r\n            buildDays();\r\n            updateValue();\r\n            // maintain focus\r\n            if (!shouldChangeMonth &&\r\n                self.config.mode !== \"range\" &&\r\n                self.config.showMonths === 1)\r\n                focusOnDayElem(target);\r\n            else if (self.selectedDateElem !== undefined &&\r\n                self.hourElement === undefined) {\r\n                self.selectedDateElem && self.selectedDateElem.focus();\r\n            }\r\n            if (self.hourElement !== undefined)\r\n                self.hourElement !== undefined && self.hourElement.focus();\r\n            if (self.config.closeOnSelect) {\r\n                var single = self.config.mode === \"single\" && !self.config.enableTime;\r\n                var range = self.config.mode === \"range\" &&\r\n                    self.selectedDates.length === 2 &&\r\n                    !self.config.enableTime;\r\n                if (single || range) {\r\n                    focusAndClose();\r\n                }\r\n            }\r\n            triggerChange();\r\n        }\r\n        var CALLBACKS = {\r\n            locale: [setupLocale, updateWeekdays],\r\n            showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\r\n            minDate: [jumpToDate],\r\n            maxDate: [jumpToDate],\r\n            positionElement: [updatePositionElement],\r\n            clickOpens: [\r\n                function () {\r\n                    if (self.config.clickOpens === true) {\r\n                        bind(self._input, \"focus\", self.open);\r\n                        bind(self._input, \"click\", self.open);\r\n                    }\r\n                    else {\r\n                        self._input.removeEventListener(\"focus\", self.open);\r\n                        self._input.removeEventListener(\"click\", self.open);\r\n                    }\r\n                },\r\n            ],\r\n        };\r\n        function set(option, value) {\r\n            if (option !== null && typeof option === \"object\") {\r\n                Object.assign(self.config, option);\r\n                for (var key in option) {\r\n                    if (CALLBACKS[key] !== undefined)\r\n                        CALLBACKS[key].forEach(function (x) { return x(); });\r\n                }\r\n            }\r\n            else {\r\n                self.config[option] = value;\r\n                if (CALLBACKS[option] !== undefined)\r\n                    CALLBACKS[option].forEach(function (x) { return x(); });\r\n                else if (HOOKS.indexOf(option) > -1)\r\n                    self.config[option] = arrayify(value);\r\n            }\r\n            self.redraw();\r\n            updateValue(true);\r\n        }\r\n        function setSelectedDate(inputDate, format) {\r\n            var dates = [];\r\n            if (inputDate instanceof Array)\r\n                dates = inputDate.map(function (d) { return self.parseDate(d, format); });\r\n            else if (inputDate instanceof Date || typeof inputDate === \"number\")\r\n                dates = [self.parseDate(inputDate, format)];\r\n            else if (typeof inputDate === \"string\") {\r\n                switch (self.config.mode) {\r\n                    case \"single\":\r\n                    case \"time\":\r\n                        dates = [self.parseDate(inputDate, format)];\r\n                        break;\r\n                    case \"multiple\":\r\n                        dates = inputDate\r\n                            .split(self.config.conjunction)\r\n                            .map(function (date) { return self.parseDate(date, format); });\r\n                        break;\r\n                    case \"range\":\r\n                        dates = inputDate\r\n                            .split(self.l10n.rangeSeparator)\r\n                            .map(function (date) { return self.parseDate(date, format); });\r\n                        break;\r\n                }\r\n            }\r\n            else\r\n                self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\r\n            self.selectedDates = (self.config.allowInvalidPreload\r\n                ? dates\r\n                : dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); }));\r\n            if (self.config.mode === \"range\")\r\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\r\n        }\r\n        function setDate(date, triggerChange, format) {\r\n            if (triggerChange === void 0) { triggerChange = false; }\r\n            if (format === void 0) { format = self.config.dateFormat; }\r\n            if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\r\n                return self.clear(triggerChange);\r\n            setSelectedDate(date, format);\r\n            self.latestSelectedDateObj =\r\n                self.selectedDates[self.selectedDates.length - 1];\r\n            self.redraw();\r\n            jumpToDate(undefined, triggerChange);\r\n            setHoursFromDate();\r\n            if (self.selectedDates.length === 0) {\r\n                self.clear(false);\r\n            }\r\n            updateValue(triggerChange);\r\n            if (triggerChange)\r\n                triggerEvent(\"onChange\");\r\n        }\r\n        function parseDateRules(arr) {\r\n            return arr\r\n                .slice()\r\n                .map(function (rule) {\r\n                if (typeof rule === \"string\" ||\r\n                    typeof rule === \"number\" ||\r\n                    rule instanceof Date) {\r\n                    return self.parseDate(rule, undefined, true);\r\n                }\r\n                else if (rule &&\r\n                    typeof rule === \"object\" &&\r\n                    rule.from &&\r\n                    rule.to)\r\n                    return {\r\n                        from: self.parseDate(rule.from, undefined),\r\n                        to: self.parseDate(rule.to, undefined),\r\n                    };\r\n                return rule;\r\n            })\r\n                .filter(function (x) { return x; }); // remove falsy values\r\n        }\r\n        function setupDates() {\r\n            self.selectedDates = [];\r\n            self.now = self.parseDate(self.config.now) || new Date();\r\n            // Workaround IE11 setting placeholder as the input's value\r\n            var preloadedDate = self.config.defaultDate ||\r\n                ((self.input.nodeName === \"INPUT\" ||\r\n                    self.input.nodeName === \"TEXTAREA\") &&\r\n                    self.input.placeholder &&\r\n                    self.input.value === self.input.placeholder\r\n                    ? null\r\n                    : self.input.value);\r\n            if (preloadedDate)\r\n                setSelectedDate(preloadedDate, self.config.dateFormat);\r\n            self._initialDate =\r\n                self.selectedDates.length > 0\r\n                    ? self.selectedDates[0]\r\n                    : self.config.minDate &&\r\n                        self.config.minDate.getTime() > self.now.getTime()\r\n                        ? self.config.minDate\r\n                        : self.config.maxDate &&\r\n                            self.config.maxDate.getTime() < self.now.getTime()\r\n                            ? self.config.maxDate\r\n                            : self.now;\r\n            self.currentYear = self._initialDate.getFullYear();\r\n            self.currentMonth = self._initialDate.getMonth();\r\n            if (self.selectedDates.length > 0)\r\n                self.latestSelectedDateObj = self.selectedDates[0];\r\n            if (self.config.minTime !== undefined)\r\n                self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\r\n            if (self.config.maxTime !== undefined)\r\n                self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\r\n            self.minDateHasTime =\r\n                !!self.config.minDate &&\r\n                    (self.config.minDate.getHours() > 0 ||\r\n                        self.config.minDate.getMinutes() > 0 ||\r\n                        self.config.minDate.getSeconds() > 0);\r\n            self.maxDateHasTime =\r\n                !!self.config.maxDate &&\r\n                    (self.config.maxDate.getHours() > 0 ||\r\n                        self.config.maxDate.getMinutes() > 0 ||\r\n                        self.config.maxDate.getSeconds() > 0);\r\n        }\r\n        function setupInputs() {\r\n            self.input = getInputElem();\r\n            /* istanbul ignore next */\r\n            if (!self.input) {\r\n                self.config.errorHandler(new Error(\"Invalid input element specified\"));\r\n                return;\r\n            }\r\n            // hack: store previous type to restore it after destroy()\r\n            self.input._type = self.input.type;\r\n            self.input.type = \"text\";\r\n            self.input.classList.add(\"flatpickr-input\");\r\n            self._input = self.input;\r\n            if (self.config.altInput) {\r\n                // replicate self.element\r\n                self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\r\n                self._input = self.altInput;\r\n                self.altInput.placeholder = self.input.placeholder;\r\n                self.altInput.disabled = self.input.disabled;\r\n                self.altInput.required = self.input.required;\r\n                self.altInput.tabIndex = self.input.tabIndex;\r\n                self.altInput.type = \"text\";\r\n                self.input.setAttribute(\"type\", \"hidden\");\r\n                if (!self.config.static && self.input.parentNode)\r\n                    self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\r\n            }\r\n            if (!self.config.allowInput)\r\n                self._input.setAttribute(\"readonly\", \"readonly\");\r\n            updatePositionElement();\r\n        }\r\n        function updatePositionElement() {\r\n            self._positionElement = self.config.positionElement || self._input;\r\n        }\r\n        function setupMobile() {\r\n            var inputType = self.config.enableTime\r\n                ? self.config.noCalendar\r\n                    ? \"time\"\r\n                    : \"datetime-local\"\r\n                : \"date\";\r\n            self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\r\n            self.mobileInput.tabIndex = 1;\r\n            self.mobileInput.type = inputType;\r\n            self.mobileInput.disabled = self.input.disabled;\r\n            self.mobileInput.required = self.input.required;\r\n            self.mobileInput.placeholder = self.input.placeholder;\r\n            self.mobileFormatStr =\r\n                inputType === \"datetime-local\"\r\n                    ? \"Y-m-d\\\\TH:i:S\"\r\n                    : inputType === \"date\"\r\n                        ? \"Y-m-d\"\r\n                        : \"H:i:S\";\r\n            if (self.selectedDates.length > 0) {\r\n                self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\r\n            }\r\n            if (self.config.minDate)\r\n                self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\r\n            if (self.config.maxDate)\r\n                self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\r\n            if (self.input.getAttribute(\"step\"))\r\n                self.mobileInput.step = String(self.input.getAttribute(\"step\"));\r\n            self.input.type = \"hidden\";\r\n            if (self.altInput !== undefined)\r\n                self.altInput.type = \"hidden\";\r\n            try {\r\n                if (self.input.parentNode)\r\n                    self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\r\n            }\r\n            catch (_a) { }\r\n            bind(self.mobileInput, \"change\", function (e) {\r\n                self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\r\n                triggerEvent(\"onChange\");\r\n                triggerEvent(\"onClose\");\r\n            });\r\n        }\r\n        function toggle(e) {\r\n            if (self.isOpen === true)\r\n                return self.close();\r\n            self.open(e);\r\n        }\r\n        function triggerEvent(event, data) {\r\n            // If the instance has been destroyed already, all hooks have been removed\r\n            if (self.config === undefined)\r\n                return;\r\n            var hooks = self.config[event];\r\n            if (hooks !== undefined && hooks.length > 0) {\r\n                for (var i = 0; hooks[i] && i < hooks.length; i++)\r\n                    hooks[i](self.selectedDates, self.input.value, self, data);\r\n            }\r\n            if (event === \"onChange\") {\r\n                self.input.dispatchEvent(createEvent(\"change\"));\r\n                // many front-end frameworks bind to the input event\r\n                self.input.dispatchEvent(createEvent(\"input\"));\r\n            }\r\n        }\r\n        function createEvent(name) {\r\n            var e = document.createEvent(\"Event\");\r\n            e.initEvent(name, true, true);\r\n            return e;\r\n        }\r\n        function isDateSelected(date) {\r\n            for (var i = 0; i < self.selectedDates.length; i++) {\r\n                var selectedDate = self.selectedDates[i];\r\n                if (selectedDate instanceof Date &&\r\n                    compareDates(selectedDate, date) === 0)\r\n                    return \"\" + i;\r\n            }\r\n            return false;\r\n        }\r\n        function isDateInRange(date) {\r\n            if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\r\n                return false;\r\n            return (compareDates(date, self.selectedDates[0]) >= 0 &&\r\n                compareDates(date, self.selectedDates[1]) <= 0);\r\n        }\r\n        function updateNavigationCurrentMonth() {\r\n            if (self.config.noCalendar || self.isMobile || !self.monthNav)\r\n                return;\r\n            self.yearElements.forEach(function (yearElement, i) {\r\n                var d = new Date(self.currentYear, self.currentMonth, 1);\r\n                d.setMonth(self.currentMonth + i);\r\n                if (self.config.showMonths > 1 ||\r\n                    self.config.monthSelectorType === \"static\") {\r\n                    self.monthElements[i].textContent =\r\n                        monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\r\n                }\r\n                else {\r\n                    self.monthsDropdownContainer.value = d.getMonth().toString();\r\n                }\r\n                yearElement.value = d.getFullYear().toString();\r\n            });\r\n            self._hidePrevMonthArrow =\r\n                self.config.minDate !== undefined &&\r\n                    (self.currentYear === self.config.minDate.getFullYear()\r\n                        ? self.currentMonth <= self.config.minDate.getMonth()\r\n                        : self.currentYear < self.config.minDate.getFullYear());\r\n            self._hideNextMonthArrow =\r\n                self.config.maxDate !== undefined &&\r\n                    (self.currentYear === self.config.maxDate.getFullYear()\r\n                        ? self.currentMonth + 1 > self.config.maxDate.getMonth()\r\n                        : self.currentYear > self.config.maxDate.getFullYear());\r\n        }\r\n        function getDateStr(specificFormat) {\r\n            var format = specificFormat ||\r\n                (self.config.altInput ? self.config.altFormat : self.config.dateFormat);\r\n            return self.selectedDates\r\n                .map(function (dObj) { return self.formatDate(dObj, format); })\r\n                .filter(function (d, i, arr) {\r\n                return self.config.mode !== \"range\" ||\r\n                    self.config.enableTime ||\r\n                    arr.indexOf(d) === i;\r\n            })\r\n                .join(self.config.mode !== \"range\"\r\n                ? self.config.conjunction\r\n                : self.l10n.rangeSeparator);\r\n        }\r\n        /**\r\n         * Updates the values of inputs associated with the calendar\r\n         */\r\n        function updateValue(triggerChange) {\r\n            if (triggerChange === void 0) { triggerChange = true; }\r\n            if (self.mobileInput !== undefined && self.mobileFormatStr) {\r\n                self.mobileInput.value =\r\n                    self.latestSelectedDateObj !== undefined\r\n                        ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\r\n                        : \"\";\r\n            }\r\n            self.input.value = getDateStr(self.config.dateFormat);\r\n            if (self.altInput !== undefined) {\r\n                self.altInput.value = getDateStr(self.config.altFormat);\r\n            }\r\n            if (triggerChange !== false)\r\n                triggerEvent(\"onValueUpdate\");\r\n        }\r\n        function onMonthNavClick(e) {\r\n            var eventTarget = getEventTarget(e);\r\n            var isPrevMonth = self.prevMonthNav.contains(eventTarget);\r\n            var isNextMonth = self.nextMonthNav.contains(eventTarget);\r\n            if (isPrevMonth || isNextMonth) {\r\n                changeMonth(isPrevMonth ? -1 : 1);\r\n            }\r\n            else if (self.yearElements.indexOf(eventTarget) >= 0) {\r\n                eventTarget.select();\r\n            }\r\n            else if (eventTarget.classList.contains(\"arrowUp\")) {\r\n                self.changeYear(self.currentYear + 1);\r\n            }\r\n            else if (eventTarget.classList.contains(\"arrowDown\")) {\r\n                self.changeYear(self.currentYear - 1);\r\n            }\r\n        }\r\n        function timeWrapper(e) {\r\n            e.preventDefault();\r\n            var isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\r\n            if (self.amPM !== undefined && eventTarget === self.amPM) {\r\n                self.amPM.textContent =\r\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\r\n            }\r\n            var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\r\n                (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\r\n            var newValue = curValue + step * delta;\r\n            if (typeof input.value !== \"undefined\" && input.value.length === 2) {\r\n                var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\r\n                if (newValue < min) {\r\n                    newValue =\r\n                        max +\r\n                            newValue +\r\n                            int(!isHourElem) +\r\n                            (int(isHourElem) && int(!self.amPM));\r\n                    if (isMinuteElem)\r\n                        incrementNumInput(undefined, -1, self.hourElement);\r\n                }\r\n                else if (newValue > max) {\r\n                    newValue =\r\n                        input === self.hourElement ? newValue - max - int(!self.amPM) : min;\r\n                    if (isMinuteElem)\r\n                        incrementNumInput(undefined, 1, self.hourElement);\r\n                }\r\n                if (self.amPM &&\r\n                    isHourElem &&\r\n                    (step === 1\r\n                        ? newValue + curValue === 23\r\n                        : Math.abs(newValue - curValue) > step)) {\r\n                    self.amPM.textContent =\r\n                        self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\r\n                }\r\n                input.value = pad(newValue);\r\n            }\r\n        }\r\n        init();\r\n        return self;\r\n    }\r\n    /* istanbul ignore next */\r\n    function _flatpickr(nodeList, config) {\r\n        // static list\r\n        var nodes = Array.prototype.slice\r\n            .call(nodeList)\r\n            .filter(function (x) { return x instanceof HTMLElement; });\r\n        var instances = [];\r\n        for (var i = 0; i < nodes.length; i++) {\r\n            var node = nodes[i];\r\n            try {\r\n                if (node.getAttribute(\"data-fp-omit\") !== null)\r\n                    continue;\r\n                if (node._flatpickr !== undefined) {\r\n                    node._flatpickr.destroy();\r\n                    node._flatpickr = undefined;\r\n                }\r\n                node._flatpickr = FlatpickrInstance(node, config || {});\r\n                instances.push(node._flatpickr);\r\n            }\r\n            catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n        return instances.length === 1 ? instances[0] : instances;\r\n    }\r\n    /* istanbul ignore next */\r\n    if (typeof HTMLElement !== \"undefined\" &&\r\n        typeof HTMLCollection !== \"undefined\" &&\r\n        typeof NodeList !== \"undefined\") {\r\n        // browser env\r\n        HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\r\n            return _flatpickr(this, config);\r\n        };\r\n        HTMLElement.prototype.flatpickr = function (config) {\r\n            return _flatpickr([this], config);\r\n        };\r\n    }\r\n    /* istanbul ignore next */\r\n    var flatpickr = function (selector, config) {\r\n        if (typeof selector === \"string\") {\r\n            return _flatpickr(window.document.querySelectorAll(selector), config);\r\n        }\r\n        else if (selector instanceof Node) {\r\n            return _flatpickr([selector], config);\r\n        }\r\n        else {\r\n            return _flatpickr(selector, config);\r\n        }\r\n    };\r\n    /* istanbul ignore next */\r\n    flatpickr.defaultConfig = {};\r\n    flatpickr.l10ns = {\r\n        en: __assign({}, english),\r\n        default: __assign({}, english),\r\n    };\r\n    flatpickr.localize = function (l10n) {\r\n        flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);\r\n    };\r\n    flatpickr.setDefaults = function (config) {\r\n        flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);\r\n    };\r\n    flatpickr.parseDate = createDateParser({});\r\n    flatpickr.formatDate = createDateFormatter({});\r\n    flatpickr.compareDates = compareDates;\r\n    /* istanbul ignore next */\r\n    if (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\r\n        jQuery.fn.flatpickr = function (config) {\r\n            return _flatpickr(this, config);\r\n        };\r\n    }\r\n    Date.prototype.fp_incr = function (days) {\r\n        return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\r\n    };\r\n    if (typeof window !== \"undefined\") {\r\n        window.flatpickr = flatpickr;\r\n    }\r\n\r\n    return flatpickr;\r\n\r\n});\r\n"]}